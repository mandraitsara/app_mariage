(self.webpackChunklegalife=self.webpackChunklegalife||[]).push([[2526],{46700:(p,b,a)=>{var i={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":97182,"./my.js":97182,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function h(g){var x=v(g);return a(x)}function v(g){if(!a.o(i,g)){var x=new Error("Cannot find module '"+g+"'");throw x.code="MODULE_NOT_FOUND",x}return i[g]}h.keys=function(){return Object.keys(i)},h.resolve=v,p.exports=h,h.id=46700},65463:(p,b,a)=>{"use strict";a.r(b),a.d(b,{default:()=>g});var i=a(96995),h=a.n(i),v=h()(function(x){return x[1]});v.push([p.id,'.diffDivContainer[data-v-0f8bf77d],.close-button[data-v-0f8bf77d]{border-radius:10px}.close-button[data-v-0f8bf77d],.load-file-modal[data-v-0f8bf77d]{display:flex}.close-button[data-v-0f8bf77d],.select-version[data-v-0f8bf77d]{cursor:pointer}.load-file-modal[data-v-0f8bf77d]{flex-direction:column}.left__table[data-v-0f8bf77d],.right__table[data-v-0f8bf77d]{border:0;text-align:left}.left__table__tr[data-v-0f8bf77d],.left__table__index[data-v-0f8bf77d],.left__table__modif[data-v-0f8bf77d],.right__table__tr[data-v-0f8bf77d],.right__table__index[data-v-0f8bf77d],.right__table__modif[data-v-0f8bf77d]{padding:5px 5px 0 5px}.left__table__tr[data-v-0f8bf77d],.left__table__index[data-v-0f8bf77d],.left__table__text[data-v-0f8bf77d],.right__table__tr[data-v-0f8bf77d],.right__table__index[data-v-0f8bf77d],.right__table__text[data-v-0f8bf77d]{border:0}.left__table__modif[data-v-0f8bf77d],.left__table__index[data-v-0f8bf77d],.right__table__modif[data-v-0f8bf77d],.right__table__index[data-v-0f8bf77d]{text-align:center}.left__table__text[data-v-0f8bf77d],.right__table__text[data-v-0f8bf77d]{display:inline-block;padding:5px 0 0 0}.left__table__modif[data-v-0f8bf77d],.right__table__modif[data-v-0f8bf77d]{border-top:0;border-bottom:0;border-right:0;border-left:solid .5px #000;width:27px}.left__table__index[data-v-0f8bf77d],.right__table__index[data-v-0f8bf77d]{width:52px}.left__table__oneIndent[data-v-0f8bf77d],.right__table__oneIndent[data-v-0f8bf77d]{margin:0 0 0 9px}.left__table__twoIndent[data-v-0f8bf77d],.right__table__twoIndent[data-v-0f8bf77d]{margin:0 0 0 25px}.left__table__threeIndent[data-v-0f8bf77d],.right__table__threeIndent[data-v-0f8bf77d]{margin:0 0 0 34px}.diffDivContainer[data-v-0f8bf77d]{width:100%}.diffDivContainer>div[data-v-0f8bf77d]{width:50%;padding:0% .5%;overflow:hidden;display:table-cell}.close-button[data-v-0f8bf77d]{margin:0 0 0 92%;background-color:#f47159;color:#fff;width:50px;align-items:center;justify-content:center}.close-button[data-v-0f8bf77d]:after{content:"X";margin:0 0 -5px;font-size:20px;font-weight:bold}.correctLoad[data-v-0f8bf77d]{color:green;padding:0}#bottom-close-button[data-v-0f8bf77d]{margin:1%}h2[data-v-0f8bf77d]{text-align:center}h4[data-v-0f8bf77d]{display:table-row}.left[data-v-0f8bf77d]{border-right:solid 2px rgba(168,179,211,.5)}.right[data-v-0f8bf77d]{border-left:solid 2px rgba(168,179,211,.5)}.select-version[data-v-0f8bf77d]{border:solid #000 2px;border-radius:5px}.text-add[data-v-0f8bf77d]{background-color:#32cd32}.text-del[data-v-0f8bf77d]{background-color:salmon}.titleVersion[data-v-0f8bf77d]{text-align:left}',""]);const g=v},80902:(p,b,a)=>{"use strict";a.r(b),a.d(b,{default:()=>g});var i=a(96995),h=a.n(i),v=h()(function(x){return x[1]});v.push([p.id,".toggle-button{padding:3px 4px;border-radius:5px}html,body,.main-div{height:100%}.main-div{display:flex;flex-direction:column}header{flex:0 0 auto;height:auto}header h1{display:inline-block;font-size:14px;margin:0px 5px}header .button{font-size:.8125rem;margin:0;margin-right:-0.4em;padding:.4125rem .9375rem}header .help{margin-left:5px}.errors{margin:0;background:#fbb}#editors{flex:1 0 0;display:flex}#editors>div,#editors>iframe{min-width:0;flex:1;border:solid 1px gray;overflow-x:hidden;overflow-y:auto;text-overflow:ellipsis}.has-widget-bar{display:flex;flex-direction:column}.widget-bar{flex:auto 0;text-align:center}.widget-bar button{margin:0;margin-bottom:2px}.widget-body{flex:1}.errors{color:red;white-space:normal}.display-none{display:none}.qr-recommended{background:#ffffe0}.table-row{display:table-row}.table-cell{display:table-cell}.is_admin_label{display:inline-block;text-decoration:none}label{text-decoration:underline}#immoModal label{text-decoration:none}#load-file-modal .select2{margin-bottom:1em;box-shadow:0 5px 10px rgba(0,0,0,.15),0 5px 5px rgba(0,0,0,.12),0 5px 10px rgba(0,0,0,.15),0 5px 10px rgba(0,0,0,.15);filter:drop-shadow();filter:blur();border-radius:30px}#load-file-modal .select2:hover{margin-bottom:1em;box-shadow:0 5px 10px rgba(218,171,179,.1),0 5px 5px pink,0 5px 10px rgba(218,171,179,.1),0 5px 10px rgba(0,0,179,.1);filter:drop-shadow();filter:blur();border-radius:30px}.modal-button{float:right;margin-left:.5em}.dropdown{position:relative;display:inline-block}.dropdown-content{z-index:10;display:none;position:absolute}.dropdown-content a{width:200px}.dropdown-option{text-align:left}.dropdown:hover .dropdown-content{display:block}.selects{display:flex;justify-content:space-evenly;margin:50px 0px}.select-modale{min-width:20%}.vdpr-datepicker{border:none}.vdpr-datepicker__calendar-input-time,.vdpr-datepicker__calendar-input-date{border:solid 1px #c8c8c8}.vdpr-datepicker__calendar-dialog--inline{border:none}.vdpr-datepicker__calendar-button-helper{width:20%}.vdpr-datepicker__calendar{width:50%}.vdpr-datepicker__calendar-actions{width:30%;margin-top:50px}.vdpr-datepicker__calendar-input-wrapper:nth-child(4){margin-top:30px}.vdpr-datepicker__button-submit{margin-top:50px !important}",""]);const g=v},42467:(p,b,a)=>{"use strict";a.r(b),a.d(b,{default:()=>g});var i=a(96995),h=a.n(i),v=h()(function(x){return x[1]});v.push([p.id,'.title-table[data-v-c42ae1ea]{text-align:center;background-color:#367cc0;color:#fff}.titleTD[data-v-c42ae1ea]{font-size:20px;text-align:center}td[data-v-c42ae1ea],th[data-v-c42ae1ea],tr[data-v-c42ae1ea]{vertical-align:middle;border:1px solid #000}table[data-v-c42ae1ea]{width:100%;border-collapse:collapse}.tdInput[data-v-c42ae1ea]{padding:0;border:0;display:flex;align-items:flex-start;justify-content:center;height:3.5rem}.tdInput input[data-v-c42ae1ea]{opacity:0}.input_indicator[data-v-c42ae1ea],.tdInput input[type=checkbox][data-v-c42ae1ea]{height:0;width:0}.tdInput:hover input~.input_indicator[data-v-c42ae1ea],.tdInput input:focus~.input_indicator[data-v-c42ae1ea]{background:#ccc}.input_indicator[data-v-c42ae1ea]:after{content:"";display:none}.tdInput input:checked~.input_indicator[data-v-c42ae1ea]:after{display:block}.tdInput .input_indicator[data-v-c42ae1ea]:after{width:1rem;height:2.6rem;border:solid #fff;border-width:0 .4rem .4rem 0;transform:rotate(45deg);margin-top:.1rem}.tdInput input[type=checkbox][data-v-c42ae1ea]{margin:0}.active[data-v-c42ae1ea]{background-color:#0ef !important}',""]);const g=v},65285:(p,b,a)=>{"use strict";a.d(b,{Z:()=>g});var i=a(96995),h=a.n(i),v=h()(function(x){return x[1]});v.push([p.id,`
.ace-monokai .ace_selection {
	background: #2d4d7a !important;
}
`,""]);const g=v},32141:(p,b,a)=>{"use strict";a.d(b,{Z:()=>g});var i=a(96995),h=a.n(i),v=h()(function(x){return x[1]});v.push([p.id,`
.load-file-modal {
	display: block;
	margin: auto;
}
.load-file-modal input {
	border: none;
}
.load-file-modal.reveal-modal button {
	margin-top: 5px;
}
.diff-modal pre {
	border: 1px solid #ccc;
	text-align: left;
}
.warnings {
	margin: 0;
	background: lightsalmon;
}
`,""]);const g=v},26914:(p,b,a)=>{"use strict";var i=a(93908),h=a(32887),v=a(67450),g=function(){var e=this,l=e._self._c,o=e._self._setupProxy;return l("div",{staticClass:"main-div"},[l("header",[l("section",{attrs:{"data-cy":"qr_header"}},[e._m(0),e._v(" "),l("EditorTab",{attrs:{prop:"surveyTemplate"},model:{value:e.openEditors,callback:function(n){e.openEditors=n},expression:"openEditors"}},[e._v("Questionnaire Template")]),e._v(" "),l("EditorTab",{attrs:{prop:"questionnaireYAML"},model:{value:e.openEditors,callback:function(n){e.openEditors=n},expression:"openEditors"}},[e._v("Questionnaire YAML")]),e._v(" "),l("EditorTab",{attrs:{prop:"questionnaire"},model:{value:e.openEditors,callback:function(n){e.openEditors=n},expression:"openEditors"}},[e._v("Questionnaire")]),e._v(" "),l("EditorTab",{attrs:{prop:"data"},model:{value:e.openEditors,callback:function(n){e.openEditors=n},expression:"openEditors"}},[e._v("Donn\xE9es")]),e._v(" "),l("EditorTab",{attrs:{prop:"documentTemplate"},model:{value:e.openEditors,callback:function(n){e.openEditors=n},expression:"openEditors"}},[e._v("Document Template")]),e._v(" "),l("EditorTab",{attrs:{prop:"documentMD"},model:{value:e.openEditors,callback:function(n){e.openEditors=n},expression:"openEditors"}},[e._v("Document MD")]),e._v(" "),l("EditorTab",{attrs:{prop:"documentHTML"},model:{value:e.openEditors,callback:function(n){e.openEditors=n},expression:"openEditors"}},[e._v("Document HTML")]),e._v(" "),l("EditorTab",{attrs:{prop:"document"},model:{value:e.openEditors,callback:function(n){e.openEditors=n},expression:"openEditors"}},[e._v("Document")]),e._v(" "),e.lockAccess?l("EditorTab",{attrs:{prop:"infoFilesComponent"},model:{value:e.openEditors,callback:function(n){e.openEditors=n},expression:"openEditors"}},[e._v("Fichiers D\xE9v\xE9rouill\xE9s")]):e._e(),e._v(" "),e.downloadAccess||e.uploadAccess?l("a",{staticClass:"dropdown"},[l("a",{staticClass:"button secondary"},[e._v(e._s(e.$t("generated.importexport"))+`
					`),l("i",{staticClass:"fa fa-angle-down",attrs:{"aria-hidden":"true"}})]),e._v(" "),l("div",{staticClass:"dropdown-content"},[e.downloadAccess?l("a",{staticClass:"button secondary dropdown-option",on:{click:function(n){return e.loadDownloadByCompany()}}},[e._v(`
						`+e._s(e.$t("qr.export_files_by_company"))+`
						`),e.loadingModalCompany?l("i",{staticClass:"fa fa-spinner fa-spin"}):e._e()]):e._e(),e._v(" "),e.downloadAccess?l("a",{staticClass:"button secondary dropdown-option",on:{click:function(n){return e.loadDownloadByDate()}}},[e._v(`
						`+e._s(e.$t("qr.export_files_by_date"))+`
						`),e.loadingModalDate?l("i",{staticClass:"fa fa-spinner fa-spin"}):e._e()]):e._e(),e._v(" "),e.uploadAccess?l("a",{staticClass:"button secondary dropdown-option",on:{click:function(n){e.displayModalUploadFiles=!0}}},[e._v(`
						`+e._s(e.$t("common.import_files"))+`
					`)]):e._e()])]):e._e(),e._v(" "),l("a",{staticClass:"help",attrs:{href:"/bolegalifedeuxmilletreize/qr/help.html"}},[e._v("aide")])],1),e._v(" "),e.errors.length?l("ul",{staticClass:"errors"},e._l(e.errors,function(n){return l("li",{key:n},[e._v(e._s(n))])}),0):e._e()]),e._v(" "),l("div",{attrs:{id:"editors"}},[e.openEditors.includes("surveyTemplate")?l("div",{staticClass:"has-widget-bar"},[l("FileLoader",{attrs:{path:e.questionnairesPath},on:{lock:e.loadInfoFiles},model:{value:e.surveyTemplate,callback:function(n){e.surveyTemplate=n},expression:"surveyTemplate"}}),e._v(" "),l("Ace",{attrs:{mode:"yaml"},model:{value:e.surveyTemplate,callback:function(n){e.surveyTemplate=n},expression:"surveyTemplate"}})],1):e._e(),e._v(" "),e.displayModalUploadFiles?l("div",{staticClass:"load-file-modal reveal-modal",staticStyle:{visibility:"visible"}},[e.errorUpload?l("div",[l("h3",[e._v(`
					`+e._s(e.$t("generated.an_error_has_occurred_on_the_server"))+`
				`)]),e._v(`
				`+e._s(e.errorUploadText)+`
				`),l("a",{staticClass:"button modal-button",on:{click:function(n){e.errorUpload=!1}}},[e._v(`
					`+e._s(e.$t("generated.back"))+`
				`)])]):l("div",[e.displayDocumentModification?l("div",[e.filesToEdit.length?l("div",[l("div",{staticClass:"alert alert-info"},[l("h4",[e._v(`
								`+e._s(e.$t("generated.liste_des_modifications_apportees_par_l"))+`
							`)])]),e._v(" "),e._l(e.filesToEdit,function(n){return l("div",{key:n.diff_between_contents},[e._v(`
							`+e._s(n.filename)+`
							`),l("a",{staticClass:"button toggle-button",on:{click:function(s){n.display=!n.display}}},[n.display?l("i",{staticClass:"fa fa-eye"},[e._v("Hide")]):l("i",{staticClass:"fa fa-eye"},[e._v("Show")])]),e._v(" "),n.diff_between_contents!=""&&n.display?l("pre",[e._v(e._s(n.diff_between_contents))]):e._e()])}),e._v(" "),l("a",{staticClass:"button modal-button",on:{click:e.cancelFileUpload}},[e._v(`
							`+e._s(e.$t("common.cancel"))+`
						`)]),e._v(" "),l("a",{staticClass:"button modal-button",on:{click:e.confirmFileUpload}},[e._v(`
							`+e._s(e.$t("generated.validate"))+`
						`)])],2):l("div",[l("h4",[e._v(`
							`+e._s(e.$t("generated.the_import_was_errorfree_but_no_additi"))+`
						`)]),e._v(" "),l("a",{staticClass:"button modal-button",on:{click:e.cancelFileUpload}},[e._v(`
							`+e._s(e.$t("common.close"))+`
						`)]),e._v(" "),l("a",{staticClass:"button modal-button",on:{click:function(n){e.displayDocumentModification=!1}}},[e._v(`
							`+e._s(e.$t("generated.nouvel_upload"))+`
						`)])])]):l("div",{staticClass:"large-12 medium-12 small-12 cell"},[l("h3",[e._v(`
						`+e._s(e.$t("qr.insert_zip_file"))+`
					`)]),e._v(" "),l("input",{ref:"file",attrs:{accept:".zip",required:"true",type:"file",id:"file"},on:{change:e.handleFileUpload}}),e._v(" "),l("input",{attrs:{id:"commitMsg",required:"true",type:"text",placeholder:e.$t("qr.commit_message1")}}),e._v(" "),l("a",{staticClass:"button modal-button",on:{click:e.cancelFileUpload}},[e._v(`
						`+e._s(e.$t("common.cancel"))+`
					`)]),e._v(" "),l("a",{staticClass:"button modal-button",on:{click:function(n){return e.submitFile("questionnaires")}}},[e._v(`
						`+e._s(e.$t("qr.upload_survey"))+`
					`)]),e._v(" "),l("a",{staticClass:"button modal-button",on:{click:function(n){return e.submitFile("documents")}}},[e._v(`
						`+e._s(e.$t("qr.upload_doc"))+`
					`)])])])]):e._e(),e._v(" "),e.displayModalDownloadFilesByCompany&&!e.loadingModalCompany?l("div",{staticClass:"load-file-modal reveal-modal",staticStyle:{visibility:"visible",overflow:"visible"}},[l("div",{staticClass:"large-12 medium-12 small-12 cell"},[l("h3",[e._v(e._s(e.$t("qr.download_md_yaml")))]),e._v(" "),l("div",{staticClass:"selects"},[l("Multiselect",{staticClass:"select-modale",attrs:{options:e.whitelabelsPickerOptions,multiple:"","close-on-select":!1,placeholder:e.$t("generated.companies"),label:"label","track-by":"wid","group-values":"values","group-label":"all","group-select":"",limit:3},on:{input:e.updatePrograms},model:{value:e.companySelection,callback:function(n){e.companySelection=n},expression:"companySelection"}}),e._v(" "),l("Multiselect",{staticClass:"select-modale",attrs:{options:e.programsPickerOptions,multiple:"","close-on-select":!1,placeholder:e.$t("generated.development_projects1"),label:"caption","track-by":"idp","group-values":"values","group-label":"all","group-select":"",limit:3},on:{input:function(n){return e.getFilesByCompany()}},model:{value:e.programsSelection,callback:function(n){e.programsSelection=n},expression:"programsSelection"}}),e._v(" "),l("Multiselect",{staticClass:"select-modale",attrs:{options:e.documentTypePickerOptions,multiple:"","close-on-select":!1,label:"caption","track-by":"idsdt",placeholder:e.$t("document.document_type"),"group-values":"values","group-label":"all","group-select":"",limit:3},on:{input:function(n){return e.getFilesByCompany()}},model:{value:e.docTypeSelection,callback:function(n){e.docTypeSelection=n},expression:"docTypeSelection"}}),e._v(" "),l("Multiselect",{staticClass:"select-modale",attrs:{searchable:!1,"preselect-first":"",options:e.documentExtensionPickerOptions,"allow-empty":!1,"close-on-select":"",placeholder:e.$t("common.file_type")},on:{input:function(n){return e.getDocPickerOptionsByCompany()}},model:{value:e.mdOrYaml,callback:function(n){e.mdOrYaml=n},expression:"mdOrYaml"}})],1),e._v(" "),l("Multiselect",{staticClass:"select-modale",attrs:{options:e.docPickerOptions,placeholder:e.$t("common.documents"),multiple:"","group-values":"values","group-label":"all","group-select":"","close-on-select":!1,limit:3},on:{input:function(n){return e.updateFiles()}},model:{value:e.docSelection,callback:function(n){e.docSelection=n},expression:"docSelection"}}),e._v(" "),l("br"),l("br"),e._v(" "),this.numberOfFiles>1?l("p",[e._v(`
					`+e._s(this.numberOfFiles)+`
					`+e._s(e.$t("common.files_ready_to_download"))+`
				`)]):l("p",[e._v(`
					`+e._s(this.numberOfFiles)+`
					`+e._s(e.$t("common.file_ready_to_download"))+`
				`)]),e._v(" "),l("button",{staticClass:"button modal-button",on:{click:e.cancelFileDownload}},[e._v(`
					`+e._s(e.$t("common.cancel"))+`
				`)]),e._v(" "),e.downloadAccess?l("button",{staticClass:"button modal-button",on:{click:e.downloadFiles}},[e._v(`
					`+e._s(e.$t("common.export"))+`
					`),e.loadingDownload?l("i",{staticClass:"fa fa-spinner fa-spin"}):e._e()]):e._e()],1)]):e._e(),e._v(" "),e.displayModalDownloadFilesByDate&&!e.loadingModalDate?l("div",{staticClass:"load-file-modal reveal-modal",staticStyle:{visibility:"visible",overflow:"visible"}},[l("div",{staticClass:"large-12 medium-12 small-12 cell"},[l("h3",[e._v(e._s(e.$t("qr.download_md_yaml")))]),e._v(" "),l("button",{staticClass:"button",class:{secondary:!e.since_creation},on:{click:function(n){e.since_creation=!0}}},[e._v(`
					`+e._s(e.$t("qr.since_creation"))+`
				`)]),e._v(" "),l("button",{staticClass:"button",class:{secondary:e.since_creation},on:{click:function(n){e.since_creation=!1}}},[e._v(`
					`+e._s(e.$t("qr.since_modification"))+`
				`)]),e._v(" "),l("br"),e._v(`
				`+e._s(e.$t("common.date_colon"))+`
				`),l("DatePicker",{attrs:{language:"fr",inline:!1,"is-monday-first":"","reset-button-label":e.$t("common.reset"),"switch-button-label":e.$t("common.all_day"),showHelperButtons:""},on:{"date-applied":e.getFilesByDate}}),e._v(`
				`+e._s(e.$t("qr.doc_type"))+`
				`),l("Multiselect",{staticClass:"select-modale",attrs:{searchable:!1,"preselect-first":"",options:e.documentExtensionPickerOptions,"allow-empty":!1,"close-on-select":"",placeholder:e.$t("common.file_type")},on:{input:e.getFilesByDate},model:{value:e.mdOrYaml,callback:function(n){e.mdOrYaml=n},expression:"mdOrYaml"}}),e._v(" "),l("br"),e._v(`
				`+e._s(e.$t("qr.files_to_export"))+`
				`),l("Multiselect",{staticClass:"select-modale",attrs:{options:e.docPickerOptions,placeholder:e.$t("common.documents"),multiple:"","group-values":"values","group-label":"all","group-select":"","close-on-select":!1,limit:3},on:{input:function(n){return e.updateFiles()}},model:{value:e.docSelection,callback:function(n){e.docSelection=n},expression:"docSelection"}}),e._v(" "),l("br"),l("br"),e._v(" "),this.numberOfFiles>1?l("p",[e._v(`
					`+e._s(this.numberOfFiles)+`
					`+e._s(e.$t("common.files_ready_to_download"))+`
				`)]):l("p",[e._v(`
					`+e._s(this.numberOfFiles)+`
					`+e._s(e.$t("common.file_ready_to_download"))+`
				`)]),e._v(" "),l("button",{staticClass:"button modal-button",on:{click:e.cancelFileDownload}},[e._v(`
					`+e._s(e.$t("common.cancel"))+`
				`)]),e._v(" "),e.downloadAccess?l("button",{staticClass:"button modal-button",on:{click:e.downloadFiles}},[e._v(`
					`+e._s(e.$t("common.export"))+`
					`),e.loadingDownload?l("i",{staticClass:"fa fa-spinner fa-spin"}):e._e()]):e._e()],1)]):e._e(),e._v(" "),e.openEditors.includes("questionnaireYAML")?l("Ace",{attrs:{mode:"yaml",readonly:""},model:{value:e.questionnaireYAML,callback:function(n){e.questionnaireYAML=n},expression:"questionnaireYAML"}}):e._e(),e._v(" "),e.openEditors.includes("questionnaire")?l("div",{staticClass:"has-widget-bar"},[l("div",{staticClass:"widget-bar buttons",attrs:{"data-cy":"widget-bar"}},[l("button",{staticClass:"tiny",on:{click:function(n){return e.$refs.questionnaire.demo()}}},[e._v(`
					Demo
				`)])]),e._v(" "),l("Questionnaire",{ref:"questionnaire",attrs:{def:e.questionnaireDefinition},model:{value:e.data,callback:function(n){e.data=n},expression:"data"}})],1):e._e(),e._v(" "),e.openEditors.includes("data")?l("div",{staticClass:"has-widget-bar"},[l("div",{staticClass:"widget-bar buttons"},[l("button",{staticClass:"tiny",on:{click:e.reset}},[e._v("Reset")]),e._v(" "),l("button",{staticClass:"tiny",on:{click:function(n){e.data=e.sampleContract}}},[e._v(`
					Contrat r\xE9sa
				`)]),e._v(" "),l("button",{staticClass:"tiny",on:{click:function(n){e.data=e.sampleCoverLetter}}},[e._v(`
					SRU
				`)]),e._v(" "),l("button",{staticClass:"tiny",on:{click:function(n){e.data=e.sampleFundCall}}},[e._v(`
					Appel de fonds
				`)]),e._v(" "),l("label",{staticClass:"tiny is_admin_label",attrs:{for:"is_admin"}},[e._v("is_admin")]),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.isAdmin,expression:"isAdmin"}],staticClass:"tiny",attrs:{id:"is_admin",type:"checkbox"},domProps:{checked:Array.isArray(e.isAdmin)?e._i(e.isAdmin,null)>-1:e.isAdmin},on:{change:function(n){var s=e.isAdmin,r=n.target,d=!!r.checked;if(Array.isArray(s)){var _=null,c=e._i(s,_);r.checked?c<0&&(e.isAdmin=s.concat([_])):c>-1&&(e.isAdmin=s.slice(0,c).concat(s.slice(c+1)))}else e.isAdmin=d}}})]),e._v(" "),l("Ace",{attrs:{mode:"yaml"},model:{value:e.dataYAML,callback:function(n){e.dataYAML=n},expression:"dataYAML"}})],1):e._e(),e._v(" "),e.openEditors.includes("documentTemplate")?l("div",{staticClass:"has-widget-bar"},[l("FileLoader",{attrs:{path:e.documentsPath},on:{lock:e.loadInfoFiles},model:{value:e.documentTemplate,callback:function(n){e.documentTemplate=n},expression:"documentTemplate"}}),e._v(" "),l("Ace",{ref:"documentTemplateAceComponent",attrs:{mode:"django","data-cy":"documentTemplate"},model:{value:e.documentTemplate,callback:function(n){e.documentTemplate=n},expression:"documentTemplate"}})],1):e._e(),e._v(" "),e.openEditors.includes("documentMD")?l("Ace",{attrs:{mode:"django",readonly:""},model:{value:e.documentMD,callback:function(n){e.documentMD=n},expression:"documentMD"}}):e._e(),e._v(" "),e.openEditors.includes("documentHTML")?l("Ace",{attrs:{mode:"django",readonly:""},model:{value:e.document,callback:function(n){e.document=n},expression:"document"}}):e._e(),e._v(" "),e.openEditors.includes("document")?l("div",{staticClass:"has-widget-bar"},[l("div",{staticClass:"widget-bar buttons"},[l("form",{attrs:{action:e.htmlButtonsAction,method:"post",enctype:"multipart/form-data",target:"_blank"}},[e.htmlButtonsAction.match(/http/)?e._e():l("input",{attrs:{type:"hidden",name:"csrf"},domProps:{value:e.csrfToken}}),e._v(" "),l("textarea",{directives:[{name:"model",rawName:"v-model",value:e.document,expression:"document"}],staticStyle:{display:"none"},attrs:{name:"fragment",rows:"12",cols:"80",readonly:""},domProps:{value:e.document},on:{input:function(n){n.target.composing||(e.document=n.target.value)}}}),e._v(" "),l("button",{staticClass:"tiny submit",attrs:{type:"submit",value:"Check"},on:{click:function(n){e.htmlButtonsAction="https://validator.w3.org/nu/"}}},[e._v(`
						CHECK HTML
					`)]),e._v(" "),l("button",{staticClass:"tiny submit",attrs:{type:"submit"},on:{click:function(n){e.htmlButtonsAction="pdf/"}}},[e._v(`
						CONVERT TO PDF
					`)])])]),e._v(" "),l("Document",{attrs:{value:e.document,liveModification:""}})],1):e._e(),e._v(" "),e.openEditors.includes("infoFilesComponent")&&e.lockAccess?l("div",{staticClass:"has-widget-bar"},[l("InfoLockedFiles",{attrs:{value:e.infoFiles},on:{lock:e.loadInfoFiles}})],1):e._e()],1)])},x=[function(){var t=this,e=t._self._c,l=t._self._setupProxy;return e("h1",[e("a",{attrs:{href:"."}},[t._v("QR Editor V2")])])}];g._withStripped=!0;var N=a(4300),Z=a(91954),j=a(35369),F=a(93320),u=a(47084),f=a.n(u),m=a(82985),k=function(){var e=this,l=e._self._c,o=e._self._setupProxy;return l("div",{staticClass:"widget-body"})},T=[];k._withStripped=!0;var Q=a(38616),G=a(60741),V=a(66061),D=a(60711),U=a(72213),nl=a(68656),q=a(2934);const ue=(0,q.defineComponent)({props:{value:{type:String,required:!0},readonly:{default:!1,type:Boolean},mode:{type:null}},data(){return{editor:void 0,timeout:0,setValueTimeout:0}},mounted(){this.editor=(0,Q.edit)(this.$el),this.editor.setReadOnly(this.readonly),this.readonly||this.editor.setTheme("ace/theme/monokai"),this.editor.$blockScrolling=1/0;const t=this.editor.getSession();this.mode&&t.setMode("ace/mode/"+this.mode),t.setUseWrapMode(!0),t.setUseSoftTabs(!0),t.setTabSize(2),t.setNewLineMode("unix"),this.setValue(this.value),$(window).resize(()=>setTimeout(()=>this.editor.resize(),50)),this.readonly||t.on("change",()=>{clearTimeout(this.setValueTimeout),clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{this.$emit("input",this.editor.getValue())},500)})},watch:{value:[{handler:"setValue"}]},methods:{setValue(t){this.editor.isFocused()||this.editor.session.setValue(t||"")}}});var ce=a(6467),K=a.n(ce),H=a(65285),Y={};Y.insert="head",Y.singleton=!1;var ol=K()(H.Z,Y);const al=H.Z.locals||{};var I=a(35983),pe=(0,I.Z)(ue,k,T,!1,null,null,null);const me=pe.exports;var fe=a(64930),X=function(){var e=this,l=e._self._c,o=e._self._setupProxy;return l("a",{staticClass:"button",class:{secondary:!this.value.includes(this.prop)},attrs:{"data-cy":e.prop},on:{click:e.click,dblclick:e.dblclick}},[e._t("default")],2)},ge=[];X._withStripped=!0;const he=(0,q.defineComponent)({props:{value:{type:null,required:!0},prop:{type:String,required:!0}},methods:{click(){const t=this.value.includes(this.prop)?this.value.delete(this.prop):this.value.add(this.prop);this.$emit("input",t)},dblclick(){this.$emit("input",(0,j.l4)([this.prop]))}}});var ve=(0,I.Z)(he,X,ge,!1,null,null,null);const ye=ve.exports;var ee=function(){var e=this,l=e._self._c,o=e._self._setupProxy;return l("div",{staticClass:"widget-bar buttons",attrs:{"data-cy":"widget-bar"}},[l("span",{staticClass:"tiny label",class:{warning:e.changed,secondary:!e.changed}},[e._v(e._s(e.loadedFile||"-"))]),e._v(" "),e.loadedFile!=null&&e.versionsToggle?l("div",{staticClass:"versions-row"},[l("Multiselect",{attrs:{options:e.versionsSelectOptions},scopedSlots:e._u([{key:"singleLabel",fn:function(n){return[l("span",{staticClass:"option__desc"},[l("span",{staticClass:"option__title"},[e._v("N\xB0"+e._s(n.option.index)+` - Version
						`+e._s(n.option.version))])])]}},{key:"option",fn:function(n){return[l("div",{staticClass:"option__desc"},[l("span",{staticClass:"option__title"},[e._v("N\xB0"+e._s(n.option.index))]),e._v(" "),l("br"),e._v(" "),l("span",{staticClass:"option__small"},[e._v("Version "+e._s(n.option.version))]),e._v(" "),l("br"),e._v(" "),l("span",{staticClass:"option__small"},[e._v("Cr\xE9e le "+e._s(n.option.created_at))]),e._v(" "),n.option.tmp_git_revision?l("span",[e._v(`par import depuis documents-repo en r\xE9vision
						`+e._s(n.option.tmp_git_revision))]):e._e(),e._v(" "),n.option.tmp_git_revision?e._e():l("span",[e._v("par "+e._s(n.option.fullname))]),l("br"),e._v(" "),n.option.tmp_git_revision?e._e():l("span",{staticClass:"option__small"},[e._v("Commit: "+e._s(n.option.commit_message))])])]}}],null,!1,1375867007),model:{value:e.selectedVersion,callback:function(n){e.selectedVersion=n},expression:"selectedVersion"}}),e._v(" "),l("button",{staticClass:"tiny",attrs:{disabled:e.isSaving},on:{click:e.loadVersion}},[e._v(`
			Load version
		`)])],1):e._e(),e._v(" "),e.loadedFile!=null?l("button",{staticClass:"tiny",on:{click:function(n){e.versionsToggle=!e.versionsToggle}}},[e._v(`
		Show Versions
	`)]):e._e(),e._v(" "),l("button",{staticClass:"tiny load",attrs:{"data-cy":"load",disabled:e.loading},on:{click:e.load}},[e._v(`
		Load `),e.loading?l("i",{staticClass:"fa fa-spinner fa-spin"}):e._e()]),e._v(" "),l("button",{staticClass:"tiny",attrs:{"data-cy":"diff",disabled:e.isSaving},on:{click:function(n){e.filePickerSelection!=null?e.diffIsOpen=!0:e.diffIsOpen=!1}}},[e._v(`
		Diff
	`)]),e._v(" "),e.new_not_save==!0?l("button",{staticClass:"tiny",attrs:{"data-cy":"save",disabled:e.isSaving||e.isLocked},on:{click:e.save}},[e._v(`
		Save
	`)]):e._e(),e._v(" "),l("button",{staticClass:"tiny",attrs:{"data-cy":"save-as"},on:{click:e.saveAs}},[e._v("Save as")]),e._v(" "),e.mode=="document"?l("button",{staticClass:"tiny",attrs:{"data-cy":"new"},on:{click:e.newfile_md}},[e._v(`
		New
	`)]):e._e(),e._v(" "),e.mode=="document"&&e.newclicked_md?l("span",[l("button",{staticClass:"tiny",on:{click:function(n){return e.new_contract("model_contrat_de_reservation.md")}}},[e._v(`
			Contrat de Reservation
		`)]),e._v(" "),l("button",{staticClass:"tiny",on:{click:function(n){return e.new_contract("model_sru.md")}}},[e._v(`
			SRU
		`)]),e._v(" "),l("button",{staticClass:"tiny",on:{click:function(n){return e.new_contract("model_appel_de_fond.md")}}},[e._v(`
			Appel de fonds
		`)])]):e._e(),e._v(" "),e.mode=="questionnaire"?l("button",{staticClass:"tiny",on:{click:e.newfile_yaml}},[e._v(`
		New
	`)]):e._e(),e._v(" "),e.mode=="questionnaire"&&e.newclicked_yaml?l("span",[l("button",{staticClass:"tiny",on:{click:function(n){return e.new_questionnaire("model_contrat_de_reservation.yaml")}}},[e._v(`
			Contrat de Reservation
		`)])]):e._e(),e._v(" "),e.loadedFile!=null&&e.renameAccess?l("button",{staticClass:"tiny",attrs:{disabled:e.isLocked},on:{click:e.renameFile}},[e._v(`
		Rename
	`)]):e._e(),e._v(" "),e.loadedFile!=null&&e.deleteAccess?l("button",{staticClass:"tiny alert",attrs:{disabled:e.isLocked},on:{click:e.deleteFile}},[e._v(`
		Delete
	`)]):e._e(),e._v(" "),e.loadedFile!=null&&e.lockAccess&&!e.isLocked?l("button",{staticClass:"tiny warning",on:{click:e.lockFile}},[e._v(`
		Lock
	`)]):e._e(),e._v(" "),e.loadedFile!=null&&e.lockAccess&&e.isLocked?l("button",{staticClass:"tiny warning",on:{click:e.unlockFile}},[e._v(`
		Unlock
	`)]):e._e(),e._v(" "),e.isLocked?l("div",{staticClass:"warnings",attrs:{"data-cy":"warning-file-is-locked"}},[l("span",[e._v(e._s(e.$t("generated.le_fichier_est_verrouille_il_est_donc_i")))])]):e._e(),e._v(" "),e.filePickerOptions!==null?l("div",{staticClass:"load-file-modal reveal-modal",staticStyle:{visibility:"visible"}},[l("form",{on:{submit:e.filePickerSubmit}},[l("h2",[e._v("Choix du ficher")]),e._v(" "),l("Multiselect",{attrs:{options:e.filePickerOptions},model:{value:e.filePickerSelection,callback:function(n){e.filePickerSelection=n},expression:"filePickerSelection"}}),e._v(" "),l("button",{attrs:{"data-cy":"load_file"}},[e._v("Charger")])],1)]):e._e(),e._v(" "),e.diffIsOpen?l("div",[l("Diff",{attrs:{versions:e.versions,path:e.path,filePickerSelection:e.filePickerSelection},on:{close:e.closeDiff}})],1):e._e()])},be=[];ee._withStripped=!0;var xe=a(19755),S=a.n(xe),ke=a(47907),le=a.n(ke),te=function(){var e=this,l=e._self._c,o=e._self._setupProxy;return l("div",{staticClass:"load-file-modal",attrs:{"data-cy":"load-file-modal"}},[l("div",{staticClass:"close-button",on:{click:function(n){return e.emptyDiff()}}}),e._v(" "),l("h2",[e._v(e._s(e.$t("qr.diff")))]),e._v(" "),l("div",{staticClass:"diffDivContainer"},[l("div",{staticClass:"left"},[l("div",{staticClass:"titleVersion"},[l("h4",[e._v(`
					`+e._s(e.$t("qr.diff_old_version"))+`
				`)]),e._v(" "),e.leftVersion?l("span",{staticClass:"correctLoad",attrs:{"data-cy":"old_file_corectly_loaded"}},[e._v(`
					`+e._s(e.$t("qr.diff_file_corectly_loaded"))+`
				`)]):l("span",{attrs:{"data-cy":"old_no_files"}},[e._v(`
					`+e._s(e.$t("qr.diff_no_files"))+`
				`)])]),e._v(" "),l("select",{directives:[{name:"model",rawName:"v-model",value:e.leftVersion,expression:"leftVersion"}],staticClass:"select-version",attrs:{"data-cy":"select-old-version"},on:{change:[function(n){var s=Array.prototype.filter.call(n.target.options,function(r){return r.selected}).map(function(r){var d="_value"in r?r._value:r.value;return d});e.leftVersion=n.target.multiple?s:s[0]},function(n){return e.displayVersion(!1)}]}},[l("option",{attrs:{value:""}},[e._v(`
					`+e._s(e.$t("qr.diff_select_version"))+`
				`)]),e._v(" "),e._l(e.versions,function(n,s){return l("option",{key:n.version_id,domProps:{value:n.version_id}},[e._v(`
					`+e._s(e.displayVersionSelect(n,s))+`
				`)])})],2),e._v(" "),e.leftVersion?l("table",{staticClass:"left__table"},e._l(e.leftContent,function(n,s){return l("div",{key:s,class:{"text-del":n.indexOf("-- ")===0}},[n===""||n===" "?l("tr",{staticClass:"left__table__tr"},[l("td",{staticClass:"left__table__index"},[e._v(e._s(s))]),e._v(" "),l("td",{staticClass:"left__table__modif"}),e._v(" "),l("td",{staticClass:"left__table__text"})]):l("tr",{staticClass:"left__table__tr"},[l("td",{staticClass:"left__table__index"},[e._v(e._s(s))]),e._v(" "),n.indexOf("--")===0?l("td",{staticClass:"left__table__modif",attrs:{"data-cy":"left__table__modif"}},[e._v(`
							--
						`)]):l("td",{staticClass:"left__table__modif"}),e._v(" "),l("td",{staticClass:"left__table__text",class:e.createClassForText(n,!1),attrs:{"data-cy":"left__table__text"}},[e._v(`
							`+e._s(e.deleteModif(n,!1))+`
						`)])])])}),0):e._e()]),e._v(" "),l("div",{staticClass:"right"},[l("div",{staticClass:"titleVersion"},[l("h4",[e._v(`
					`+e._s(e.$t("qr.diff_new_version"))+`
				`)]),e._v(" "),e.rightVersion?l("span",{staticClass:"correctLoad",attrs:{"data-cy":"new_file_corectly_loaded"}},[e._v(`
					`+e._s(e.$t("qr.diff_file_corectly_loaded"))+`
				`)]):l("span",{attrs:{"data-cy":"new_no_files"}},[e._v(`
					`+e._s(e.$t("qr.diff_no_files"))+`
				`)])]),e._v(" "),l("select",{directives:[{name:"model",rawName:"v-model",value:e.rightVersion,expression:"rightVersion"}],staticClass:"select-version",attrs:{"data-cy":"select-new-version"},on:{change:[function(n){var s=Array.prototype.filter.call(n.target.options,function(r){return r.selected}).map(function(r){var d="_value"in r?r._value:r.value;return d});e.rightVersion=n.target.multiple?s:s[0]},function(n){return e.displayVersion(!0)}]}},[l("option",{attrs:{value:""}},[e._v(`
					`+e._s(e.$t("qr.diff_select_version"))+`
				`)]),e._v(" "),e._l(e.versions,function(n,s){return l("option",{key:n.version_id,domProps:{value:n.version_id}},[e._v(`
					`+e._s(e.displayVersionSelect(n,s))+`
				`)])})],2),e._v(" "),e.rightVersion?l("table",{staticClass:"right__table"},e._l(e.rightContent,function(n,s){return l("div",{key:s,class:{"text-add":n.indexOf("++ ")===0}},[n===""||n===" "?l("tr",{staticClass:"right__table__tr"},[l("td",{staticClass:"right__table__index"},[e._v(e._s(s))]),e._v(" "),l("td",{staticClass:"right__table__modif"}),e._v(" "),l("td",{staticClass:"right__table__text"})]):l("tr",{staticClass:"right__table__tr"},[l("td",{staticClass:"right__table__index"},[e._v(e._s(s))]),e._v(" "),n.indexOf("++")===0?l("td",{staticClass:"right__table__modif",attrs:{"data-cy":"right__table__modif"}},[e._v(`
							++
						`)]):l("td",{staticClass:"right__table__modif"}),e._v(" "),l("td",{staticClass:"right__table__text",class:e.createClassForText(n,!0),attrs:{"data-cy":"right__table__text"}},[e._v(`
							`+e._s(e.deleteModif(n,!0))+`
						`)])])])}),0):e._e()])]),e._v(" "),l("div",[l("button",{attrs:{id:"bottom-close-button"},on:{click:function(n){return e.emptyDiff()}}},[e._v(`
			`+e._s(e.$t("common.close"))+`
		`)])])])},we=[];te._withStripped=!0;var M=a(96486),ne=a.n(M),C=a(99992),R=(t,e,l)=>new Promise((o,n)=>{var s=_=>{try{d(l.next(_))}catch(c){n(c)}},r=_=>{try{d(l.throw(_))}catch(c){n(c)}},d=_=>_.done?o(_.value):Promise.resolve(_.value).then(s,r);d((l=l.apply(t,e)).next())});const Ce=(0,q.defineComponent)({props:{diff:{type:Array},versions:{type:null,required:!0},path:{type:String},filePickerSelection:{type:String}},data(){return{rightVersion:"",leftVersion:"",isCompared:!1,firstDiff:!0,allContent:new Map,allDiffContent:new Map,rightContent:null,leftContent:null}},methods:{displayVersion(t){return R(this,null,function*(){if(this.firstDiff||(this.rightVersion?this.leftVersion||this.displayFile(this.rightVersion,!0):this.displayFile(this.leftVersion,!1)),this.leftVersion||this.rightVersion){if(this.leftVersion===this.rightVersion){this.sameFile();return}t?this.rightVersion&&this.displayFile(this.rightVersion,!0):this.leftVersion&&this.displayFile(this.leftVersion,!1),!this.isCompared&&this.rightVersion&&this.leftVersion&&(this.isCompared=!0)}})},displayVersionSelect(t,e){return i.ZP.t("qr.show_version_number_and_date",{number:this.versions.length-e,version:t.version_id,created:t.created_at,message:t.commit_message})},excDiffVersion(){return R(this,null,function*(){this.rightVersion&&this.leftVersion&&this.isCompared&&(this.diffForQR(this.leftVersion,this.rightVersion),this.isCompared=!1)})},sameFile(){alert(i.ZP.t("qr.diff_same_file")),this.rightVersion="",this.displayFile(this.leftVersion,!1)},deleteModif(t,e){return e?t.replace("++ ",""):t.replace("-- ","")},createClassForText(t,e){const l=e?"right__table":"left__table";let o="";return(t.indexOf("subtitle")>=2||t.indexOf("help")>=2||t.indexOf("demo")>=2||t.indexOf("property")>=2||t.indexOf("choices")>=2)&&(o+=l+"__oneIndent "),t.indexOf("label")>=6&&(o+=l+"__twoIndent "),t.indexOf("value")>=6&&(o+=l+"__threeIndent "),o},displayFile(t,e){return R(this,null,function*(){if(this.allContent.size===0||!this.allContent.has(t)){const l=yield this.getFile(t);e?this.rightContent=l.content.split(`
`):this.leftContent=l.content.split(`
`),this.allContent.set(l.version,l.content.split(`
`))}else e?this.rightContent=(0,M.cloneDeep)(this.allContent.get(t)):this.leftContent=(0,M.cloneDeep)(this.allContent.get(t))})},emptyDiff(){this.$emit("close"),this.leftContent=[],this.rightContent=[],this.allDiffContent=new Map,this.allContent=new Map},getFile(t){return R(this,null,function*(){const e="&version="+t,l=yield C.default.get(this.path+"/"+this.filePickerSelection+"?nocache="+Math.random()+e).catch(()=>alert(i.ZP.t("generated.error_when_calling_the_server_is_it_sta")));return l?l.data:null})},diffForQR(t,e){return R(this,null,function*(){const l=""+t+e;if(this.allDiffContent.has(l))this.rightContent=this.allDiffContent.get(l)[1],this.leftContent=this.allDiffContent.get(l)[0];else{const o=yield C.default.post(this.path+"/"+this.filePickerSelection+"/diff/?nocache="+Math.random(),{version:t,content:this.allContent.get(e).join(`
`)}).catch(()=>alert(i.ZP.t("generated.error_when_calling_the_server_is_it_sta"))),n=o?o.data:null;this.allDiffContent.set(l,[(0,M.cloneDeep)(this.allContent.get(t)),(0,M.cloneDeep)(this.allContent.get(e))]);const s=n?n.diff.split("@@"):null;let r,d;const _=new Array(s.length).fill(0),c=new Array(s.length).fill(0);let L;for(let y=2;y<s.length;y+=2){c[y/2]+=c[y/2-1],_[y/2]+=_[y/2-1],L=s[y].split(`
`);const B=[],z=[];for(const A of L)A&&(A.indexOf("-")===0?(z.push("-- "+A.slice(1)),B.push(" "),c[y/2]+=1):A.indexOf("+")===0?(B.push("++ "+A.slice(1)),z.push(" "),_[y/2]+=1):A!=="\\ No newline at end of file"&&(B.push(A),z.push(A)));r=s[y-1].split(" ")[1].split(","),d=s[y-1].split(" ")[2].split(","),this.allDiffContent.get(l)[0].splice(r[0]*-1-1+_[y/2-1],r[1],...z),this.allDiffContent.get(l)[1].splice(d[0]-1+c[y/2-1],d[1],...B)}this.rightContent=this.allDiffContent.get(l)[1],this.leftContent=this.allDiffContent.get(l)[0]}})},handleLeftContent(){this.isCompared&&(this.firstDiff||this.displayVersion(!0),this.excDiffVersion(),this.firstDiff=!1)},handleRightContent(){this.isCompared&&(this.firstDiff||this.displayVersion(!1),this.excDiffVersion(),this.firstDiff=!1)}},watch:{leftContent:[{handler:"handleLeftContent"}],rightContent:[{handler:"handleRightContent"}]}});var rl=a(8280),Se=(0,I.Z)(Ce,te,we,!1,null,"0f8bf77d",null);const Pe=Se.exports;var E=(t,e,l)=>new Promise((o,n)=>{var s=_=>{try{d(l.next(_))}catch(c){n(c)}},r=_=>{try{d(l.throw(_))}catch(c){n(c)}},d=_=>_.done?o(_.value):Promise.resolve(_.value).then(s,r);d((l=l.apply(t,e)).next())});const Te=(0,q.defineComponent)({props:{value:{type:String},path:{type:String}},components:{Multiselect:le(),Diff:Pe},data(){return{newclicked_md:!1,newclicked_yaml:!1,loadedFile:null,previousLoadedFile:null,loading:!1,filePickerOptions:null,filePickerSelection:null,initValue:"",versionId:null,versions:[],isSaving:!1,selectedVersion:null,versionsToggle:!1,versionsSelectOptions:[],isLocked:!1,diffIsOpen:!1,renameAccess:window.qrAccesses.rename,lockAccess:window.qrAccesses.lock,deleteAccess:window.qrAccesses.delete}},computed:{localStorageProp(){return"last-loaded-"+this.path},mode(){return this.path=="/admin/qr/documents"?"document":"questionnaire"},new_not_save(){return!(this.loadedFile=="model_contrat_de_reservation.md"||this.loadedFile=="model_sru.md"||this.loadedFile=="model_appel_de_fond.md"||this.loadedFile=="model_contrat_de_reservation.yaml")},changed(){return this.value!=this.initValue}},mounted(){S()(window).on("beforeunload",()=>this.changed?i.ZP.t("generated.leave_your_modifications"):null),S()("body").on("click",t=>{S()(t.target).closest(".load-file-modal").length==0&&(this.filePickerOptions=null)}),setTimeout(()=>{const t=sessionStorage.getItem(this.localStorageProp);t&&(this.filePickerSelection=t,this.filePickerSubmit())},100)},methods:{load(){return E(this,null,function*(){this.loading=!0;const t=S().get(this.path+"/?nocache="+Math.random()).fail(()=>alert(i.ZP.t("generated.an_error_occurred_this_document_could_n")));this.filePickerOptions=yield t,this.loading=!1})},filePickerSubmit(t){return E(this,null,function*(){if(t&&t.preventDefault(),!this.filePickerSelection)return;sessionStorage.setItem(this.localStorageProp,this.filePickerSelection),this.loadedFile=this.filePickerSelection;const e=yield S().get(this.path+"/"+this.filePickerSelection+"?nocache="+Math.random()).fail(()=>alert(i.ZP.t("generated.error_when_calling_the_server_is_it_sta")));this.versionId=e.version,this.isLocked=e.locked,this.$emit("input",this.initValue=e.content),this.filePickerOptions=null,yield this.loadVersions(),this.selectedVersion=this.versionsSelectOptions[0]})},newfile_yaml(){this.newclicked_yaml=!this.newclicked_yaml},new_questionnaire(t){return E(this,null,function*(){var e;this.filePickerSelection=t,sessionStorage.setItem(this.localStorageProp,(e=this.filePickerSelection)!=null?e:""),this.loadedFile=this.filePickerSelection;try{const l=yield S().get(this.path+"/"+this.filePickerSelection+"?nocache="+Math.random());this.versionId=l.version,this.$emit("input",this.initValue=l.content),yield this.loadVersions(),this.selectedVersion=this.versionsSelectOptions[0],this.newclicked_yaml=!1}catch{alert(i.ZP.t("generated.a_pas_ete_trouve_il_faut_le_creer_une_p1")+": "+t)}})},newfile_md(){this.newclicked_md=!this.newclicked_md},new_contract(t){return E(this,null,function*(){var e;this.filePickerSelection=t,sessionStorage.setItem(this.localStorageProp,(e=this.filePickerSelection)!=null?e:""),this.loadedFile=this.filePickerSelection;try{const l=yield S().get(this.path+"/"+this.filePickerSelection+"?nocache="+Math.random());this.versionId=l.version,this.$emit("input",this.initValue=l.content),yield this.loadVersions(),this.selectedVersion=this.versionsSelectOptions[0],this.newclicked_md=!1}catch{alert(i.ZP.t("generated.a_pas_ete_trouve_il_faut_le_creer_une_p")+": "+t)}})},saveAs(){this.previousLoadedFile=this.loadedFile,this.loadedFile=null,this.versionId=null,this.selectedVersion=null,this.save()},save(){this.isSaving=!0;let t;if(this.loadedFile?t=this.loadedFile:t=this.promptAndTrimFilename(i.ZP.t("generated.file_name1"),""),!t){this.loadedFile=this.previousLoadedFile,this.previousLoadedFile=null,this.isSaving=!1;return}const e=prompt(i.ZP.t("qr.commit_message"));if(!e){alert(i.ZP.t("generated.a_commit_message_is_required_cancel_the")),this.isSaving=!1;return}this.loadedFile=t;const l=this.value;S().post(this.path+"/"+t,{content:l,version:this.versionId,commit_message:e}).fail(o=>{alert(o.responseJSON),this.isSaving=!1}).done(o=>E(this,null,function*(){this.initValue=l,this.versionId=o.version,this.isSaving=!1,yield this.loadVersions(),this.selectedVersion=this.versionsSelectOptions[0],alert(i.ZP.t("generated.document_saved"))}))},renameFile(){const t=this.promptAndTrimFilename(i.ZP.t("generated.new_file_name"),this.loadedFile);if(t){if(t==this.loadedFile){alert(i.ZP.t("generated.you_have_not_changed_the_name_of_the_fil"));return}S().post(this.path+"/"+this.loadedFile+"/rename/",{content:t}).fail(()=>{alert(i.ZP.t("generated.an_error_has_occurred_the_file_name_is"))}).done(()=>{this.loadedFile=t,this.filePickerSelection=t,sessionStorage.setItem(this.localStorageProp,this.filePickerSelection),alert(i.ZP.t("generated.the_file_name_has_been_changed"))})}},promptAndTrimFilename(t,e){var l;const o=(l=prompt(t,e))==null?void 0:l.trim();return o?.replace(/[^a-zA-Z0-9_\-.]/g,"_")},deleteFile(){const t=prompt(i.ZP.t("generated.enter_confirmation_to_delete_the_file"));if(t!="Confirmation"){alert(i.ZP.t("generated.le_fichier_na_pas_ete_supprime_veuille"));return}else t=="Confirmation"&&S().post(this.path+"/"+this.loadedFile+"/delete/").fail(()=>{alert(i.ZP.t("generated.an_error_has_occurred_the_file_was_not"))}).done(()=>{this.clear(),alert(i.ZP.t("generated.the_file_has_been_deleted"))})},lockFile(){return E(this,null,function*(){yield S().post(this.path+"/"+this.loadedFile+"/lock/").fail(()=>{alert(i.ZP.t("generated.an_error_has_occurred_the_file_has_not1"))}).done(()=>{this.isLocked=!0,this.$emit("lock",!0),alert(i.ZP.t("generated.the_file_has_been_locked"))})})},unlockFile(){return E(this,null,function*(){yield S().post(this.path+"/"+this.loadedFile+"/unlock/").fail(()=>{alert(i.ZP.t("generated.an_error_has_occurred_the_file_has_not"))}).done(()=>{this.isLocked=!1,this.$emit("lock",!1),alert(i.ZP.t("generated.the_file_has_been_unlocked"))})})},loadVersion(){return E(this,null,function*(){if(this.selectedVersion){const t=yield this.getFile(this.selectedVersion.version_id);this.versionId=t.version,this.$emit("input",this.initValue=t.content),alert(`version ${this.selectedVersion.version_id} charg\xE9e`)}})},loadVersions(){return E(this,null,function*(){this.versions=yield S().get(this.path+"/"+this.filePickerSelection+"/versions/?nocache="+Math.random()).fail(()=>alert(i.ZP.t("generated.une_erreur_est_survenue_impossible_de_c"))),this.versionsSelectOptions=this.versions.map((t,e)=>Object.assign({index:this.versions.length-e},t))})},closeDiff(){this.diffIsOpen=!1},clear(){this.loadedFile=null,this.previousLoadedFile=null,this.filePickerSelection=null,this.versionId=null,this.$emit("input",this.initValue=""),sessionStorage.removeItem(this.localStorageProp)},getFile(t){return E(this,null,function*(){const e="&version="+t,l=yield C.default.get(this.path+"/"+this.filePickerSelection+"?nocache="+Math.random()+e).catch(()=>alert(i.ZP.t("generated.error_when_calling_the_server_is_it_sta")));return l?.data})}}});var ie=a(32141),J={};J.insert="head",J.singleton=!1;var ul=K()(ie.Z,J);const cl=ie.Z.locals||{};var pl=a(6664),Ee=(0,I.Z)(Te,ee,be,!1,null,null,null);const Oe=Ee.exports;var oe=function(){var e=this,l=e._self._c,o=e._self._setupProxy;return l("iframe",{staticClass:"widget-body",attrs:{src:"questionnaire-preview","data-cy":"questionnaire-preview"}})},De=[];oe._withStripped=!0;var Le=a(9410),Ae=a(86473);const qe=(0,q.defineComponent)({props:{value:{type:null},def:{type:null,required:!0}},data(){return{questionnaire:void 0,iframeLoaded:!1}},mounted(){this.iframeLoaded=!!$(this.$el).contents().find("title").text(),$(this.$el).on("load",()=>{this.iframeLoaded=!0,this.setupQuestionnaireIfNeeded()})},methods:{setupQuestionnaireIfNeeded(){if(this.questionnaire||!this.iframeLoaded||!this.def||!this.value)return;const t=$(this.$el).contents().find("body"),e=$("<div>").appendTo(t),l=new Le.a(e);this.questionnaire=new Ae.J(l,o=>this.def),this.questionnaire.setData(this.value),this.questionnaire.listen(()=>this.emitValue())},demo(){this.questionnaire&&(this.questionnaire.demo(),this.emitValue())},emitValue(){this.$emit("input",ne().cloneDeep(this.questionnaire.getData()))},setData(t){this.setupQuestionnaireIfNeeded(),this.questionnaire&&!ne().isEqual(t,this.questionnaire.getData())&&this.questionnaire.setData(t)},defChanged(t){this.setupQuestionnaireIfNeeded(),this.questionnaire&&this.questionnaire.forceRefresh()}},watch:{value:[{handler:"setData"}],def:[{handler:"defChanged"}]}});var Ie=(0,I.Z)(qe,oe,De,!1,null,null,null);const Fe=Ie.exports;var ae=function(){var e=this,l=e._self._c,o=e._self._setupProxy;return l("div",[l("table",{staticStyle:{border:"none"}},[l("tbody",[l("tr",[l("td",{staticClass:"title-table",attrs:{colspan:"3"}},[e._v(`
					`+e._s(e.$t("qr.unlocked_yamls"))+`
				`)])]),e._v(" "),l("tr",[l("td",{staticStyle:{width:"1px"}},[l("center",[l("p",[e._v(e._s(e.selectCorrectFile(!1)))]),e._v(" "),l("button",{staticStyle:{"background-color":"#367cc0",color:"white"},attrs:{type:"button"},on:{click:function(n){return e.selectOrUnselectAll(!0)}}},[e._v(`
							`+e._s(e.selectLabel(e.selectedQuestionnaires))+`
						`)])])],1),e._v(" "),l("td",{staticClass:"titleTD"},[e._v(`
					`+e._s(e.$t("generated.nom_du_fichier"))+`
				`)]),e._v(" "),l("td",{staticClass:"titleTD"},[e._v(`
					`+e._s(e.$t("generated.date_de_derniere_modification_du_fichier"))+`
				`)])]),e._v(" "),e._l(e.questionnaires,function(n,s){return l("tr",{key:"Questionnaire"+s,class:{active:e.selectedQuestionnaires.includes(n.filename)},on:{click:function(r){return e.checkIsActive(n.filename,"yaml")}}},[l("td",{staticClass:"tdInput"},[l("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedQuestionnaires,expression:"selectedQuestionnaires"}],attrs:{type:"checkbox"},domProps:{value:n.filename,checked:e.selectedQuestionnaires.includes(s),checked:Array.isArray(e.selectedQuestionnaires)?e._i(e.selectedQuestionnaires,n.filename)>-1:e.selectedQuestionnaires},on:{change:function(r){var d=e.selectedQuestionnaires,_=r.target,c=!!_.checked;if(Array.isArray(d)){var L=n.filename,y=e._i(d,L);_.checked?y<0&&(e.selectedQuestionnaires=d.concat([L])):y>-1&&(e.selectedQuestionnaires=d.slice(0,y).concat(d.slice(y+1)))}else e.selectedQuestionnaires=c}}}),e._v(" "),l("div",{staticClass:"input_indicator"})]),e._v(" "),l("td",[e._v(`
					`+e._s(n.filename)+`
				`)]),e._v(" "),l("td",[e._v(`
					`+e._s(n.lastmodifieddate)+`
				`)])])}),e._v(" "),l("tr",[l("td",{staticClass:"title-table",attrs:{colspan:"3"}},[e._v(`
					`+e._s(e.$t("qr.unlocked_mds"))+`
				`)])]),e._v(" "),l("tr",[l("td",[l("center",[l("p",[e._v(e._s(e.selectCorrectFile(!0)))]),e._v(" "),l("button",{staticStyle:{"background-color":"#367cc0",color:"white"},attrs:{type:"button"},on:{click:function(n){return e.selectOrUnselectAll(!1)}}},[e._v(`
							`+e._s(e.selectLabel(e.selectedDocuments))+`
						`)])])],1),e._v(" "),l("td",{staticClass:"titleTD"},[e._v(`
					`+e._s(e.$t("generated.nom_du_fichier"))+`
				`)]),e._v(" "),l("td",{staticClass:"titleTD"},[e._v(`
					`+e._s(e.$t("generated.date_de_derniere_modification_du_fichier"))+`
				`)])]),e._v(" "),e._l(e.documents,function(n,s){return l("tr",{key:"Document"+s,class:{active:e.selectedDocuments.includes(n.filename)},on:{click:function(r){return e.checkIsActive(n.filename,"md")}}},[l("td",{staticClass:"tdInput"},[l("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDocuments,expression:"selectedDocuments"}],attrs:{type:"checkbox"},domProps:{value:n.filename,checked:Array.isArray(e.selectedDocuments)?e._i(e.selectedDocuments,n.filename)>-1:e.selectedDocuments},on:{change:function(r){var d=e.selectedDocuments,_=r.target,c=!!_.checked;if(Array.isArray(d)){var L=n.filename,y=e._i(d,L);_.checked?y<0&&(e.selectedDocuments=d.concat([L])):y>-1&&(e.selectedDocuments=d.slice(0,y).concat(d.slice(y+1)))}else e.selectedDocuments=c}}}),e._v(" "),l("div",{staticClass:"input_indicator"})]),e._v(" "),l("td",[e._v(`
					`+e._s(n.filename)+`
				`)]),e._v(" "),l("td",[e._v(`
					`+e._s(n.lastmodifieddate)+`
				`)])])}),e._v(" "),l("tr",{staticStyle:{border:"none"}},[l("td",{staticStyle:{border:"none"},attrs:{colspan:"3"}},[l("button",{staticClass:"tiny warning",staticStyle:{width:"100%",height:"100%"},on:{click:e.lockMultipleFiles}},[e._v(`
						Lock all files selected
					`)])])])],2)]),e._v(" "),this.processing==!0?l("p",[e._v(`
		`+e._s(e.$t("generated.nombre_de_fichiers_deja_verrouilles"))+`
		`+e._s(e.updatingDocumentCount)+`
	`)]):e._e()])},je=[];ae._withStripped=!0;var W=(t,e,l)=>new Promise((o,n)=>{var s=_=>{try{d(l.next(_))}catch(c){n(c)}},r=_=>{try{d(l.throw(_))}catch(c){n(c)}},d=_=>_.done?o(_.value):Promise.resolve(_.value).then(s,r);d((l=l.apply(t,e)).next())});const Me=(0,q.defineComponent)({props:{value:{type:null}},data(){return{selectedQuestionnaires:[],selectedDocuments:[],updatingDocumentCount:0,processing:!1}},computed:{questionnaires(){return this.value.filter(function(t){return t.type=="questionnaire"})},documents(){return this.value.filter(function(t){return t.type=="document"})}},methods:{selectOrUnselectAll(t){return W(this,null,function*(){if(t)if(this.selectedQuestionnaires.length>0)this.selectedQuestionnaires=[];else for(let e=0;e<this.questionnaires.length;e++)this.selectedQuestionnaires.push(this.questionnaires[e].filename);else if(this.selectedDocuments.length>0)this.selectedDocuments=[];else for(let e=0;e<this.documents.length;e++)this.selectedDocuments.push(this.documents[e].filename)})},checkIsActive(t,e){return W(this,null,function*(){e=="yaml"?this.selectedQuestionnaires.includes(t)?this.selectedQuestionnaires.splice(this.selectedQuestionnaires.indexOf(t),1):this.selectedQuestionnaires.push(t):this.selectedDocuments.includes(t)?this.selectedDocuments.splice(this.selectedDocuments.indexOf(t),1):this.selectedDocuments.push(t)})},lockMultipleFiles(){return W(this,null,function*(){this.processing=!0;for(const t of this.selectedDocuments)yield $.post("/admin/qr/documents/"+encodeURIComponent(t)+"/lock/").fail(()=>{alert(i.ZP.t("generated.an_error_has_occurred_the_file_has_not1"))}).done(()=>{this.$emit("lock",!0),this.updatingDocumentCount++});for(const t of this.selectedQuestionnaires)yield $.post("/admin/qr/questionnaires/"+encodeURIComponent(t)+"/lock/").fail(()=>{alert(i.ZP.t("generated.an_error_has_occurred_the_file_has_not1"))}).done(()=>{this.$emit("lock",!0),this.updatingDocumentCount++});alert(this.updatingDocumentCount+i.ZP.t("generated.documents_ont_ete_lock")),this.selectedQuestionnaires=[],this.selectedDocuments=[],this.updatingDocumentCount=0,this.processing=!1})},selectLabel(t){return t.length>0?i.ZP.t("Tout d\xE9s\xE9lectionner"):i.ZP.t("Tout s\xE9lectionner")},selectCorrectFile(t){return t?this.documents.length>1?i.ZP.t("Il y a "+this.documents.length+" fichiers"):i.ZP.t("Il y a "+this.documents.length+" fichier"):this.questionnaires.length>1?i.ZP.t("Il y a "+this.questionnaires.length+" fichiers"):i.ZP.t("Il y a "+this.questionnaires.length+" fichier")}}});var gl=a(4621),Re=(0,I.Z)(Me,ae,je,!1,null,"c42ae1ea",null);const $e=Re.exports;var Ne=a(92136),Ve=a.n(Ne);const Ue=JSON.parse('{"idpu":1612518488,"idl":1612518488,"idps":365262119,"row_created_date":"2020-10-23 08:34:03.315484+00","bill_date":null,"rdv_date":null,"cancelled_date":null,"lot_price":"200000.000","vat":"0.2000","deposit_amount":"1000.00","deposit_wire":null,"sales_certificate_filename":null,"idpo":null,"custom_data":{"TEST":"test"},"seller":null,"legacy_commercial_gesture":null,"rdv_created":null,"bill_filename":null,"bill_uploaded":null,"buyers_documents_reviewed_date":null,"assume_tax_notice_uploaded":null,"assume_bill_uploaded":null,"assume_identity_proof_uploaded":null,"other_documents_filename":null,"deposit_proof_filename":null,"deposit_cheque":null,"buyers_contribution":null,"buyers_annual_income":null,"deposit_percent":null,"deposit_at_signature":null,"loan_application_delay":null,"loan_offer_delay":null,"bill_deadline":null,"assume_loan_offer_uploaded":null,"bill_paid_date":null,"rdv_prepared":null,"last_notified_expiration":null,"external_id":null,"deposit_confirmed":null,"iddm":null,"assume_loan_request_uploaded":null,"last_webhook_status":20,"wid":2001,"lead_budget":null,"interest_confirmed_date":null,"electronic_notification_accepted":null,"lot_assignment_date":"2018-01-01 00:00:00+00","claimed_lead_confirmed":null,"is_suspect_since":null,"building_permit_request_uploaded":null,"building_permit_request_filename":null,"building_permit_uploaded":null,"building_permit_filename":null,"idcps":null,"claimed_lead_rejected":null,"claimed_lead_rejected_reason":null,"ddt_transmission":null,"option_exercised":null,"tmp_contract_s3_migration":false,"lot_option_expires":null,"signature_funds_deposited":null,"enable_ht_fund_calls":false,"idtm":null,"intent_to_waive_requested":null,"intent_to_waive_date":null,"deposit_wire_requested":null,"proxy_notary_model_sent":null,"proxy_notary_model_received":null,"proxy_notary_model_signed":null,"plot_vat":null,"plot_lot_price":null,"foxnot_id":null,"genapi_id":null,"seller_foxnot_id":null,"union_seller_foxnot_id":null,"foxnot_invalid_since":null,"foxnot_valid_since":null,"foxnot_error":null,"invalid_cache":false,"add_purchase_passed":null,"deposit_confirmed_filled_date":null,"lock_date":null,"extra_work_planned":false,"idacr":null,"has_broker":false,"agimmo_id":null,"pre_delivered":null,"delivered":null,"ppm_id":null,"lf_id":null,"gr_id":null,"gr_idps":null,"ax_id":null,"ax_idps":null,"lz_id":null,"lz_idps":null,"lz_prevent_sync":false,"mki_id":null,"md_id":null,"min_desired_delivery_date":null,"max_desired_delivery_date":null,"idoa_living_area":null,"is_claimed_lead":false,"nb_rooms_desired":null,"deposit_bank":null,"deposit_ref":null,"created":"2018-01-01 00:00:00+00","grimmo_tiers_id":null,"lf_idps":null,"spo_id":null,"uses_only_documents":false,"has_htb_enabled":null,"atp_application_date":null,"atp_reception_date":null,"ate_request_date":null,"ate_reception_date":null,"searches_application_date":null,"searches_reception_date":null,"lead_id":null,"is_draft":false,"legal_pack_send_date":null,"reservation_fee_amount":null,"reservation_fee_percent":null,"reservation_fee_confirmed":null,"remaining_balance_received":null,"project_name":null,"kyc_verification":null,"first_occupation_permit":null,"availability_of_funds":null,"exchanged_date":null,"option_exercised_request":null,"option_exercised_appointment":null,"option_exercise_letter_filename":null,"option_exercise_deed_uploaded":null,"option_exercise_deed_filename":null,"option_exercise_attestation_uploaded":null,"option_exercise_attestation_filename":null,"custom_fields":[],"spo_sync":null,"need_loan":false,"option_prolonged":false,"prolonged_by":null,"fund_call_comment":null,"sales_certificates_updated":null,"fee_vat":null,"fee_lot_price":null,"option_total_raw_stock_price":null,"option_total_stock_price":null,"financial_attestation_uploaded":null,"lu_vat_not_reduced":null,"proof_of_fund_verification_date":null,"commission_fee_used":null,"lease_start_date":null,"lease_end_date":null,"lease_billing_day_of_month":null,"lot_rent_price":null,"secondary_lots_rent_price":null,"first_rent_amount":null,"idp":1426021430,"program_caption":"program 1","program_city":"Puteaux","activate_sru_steps":true,"activate_notification_bill":true,"billable_date":null,"suppose_loans_granted":false,"funding_wait_duration":null,"uses_billable_date":false,"uses_re_resale":false,"identity_check_enabled":false,"proof_of_address_check_enabled":false,"uses_sales_contract":false,"uses_uk_loan_tasks":false,"contract_preparation_time":null,"lot_number":"program 1 lot 2","buyers":[{"nom":"Dupont","prenom":null,"prenom_2":null,"prenom_3":null,"prenom_4":null,"email":"contact@gmail.org","uses_email_of":null,"tel_fixe":null,"tel_portable":null,"adresse":null,"ville":null,"codepostal":null,"city_insee_code":null,"province":null,"state":null,"district":null,"country":null,"country_state":null,"nationality":null,"sex":0,"idslg":2,"job":null,"birthdate":null,"birthplace":null,"birth_zip_code":null,"birth_insee_code":null,"birth_country":null,"partner_prenom":null,"partner_nom":null,"wedding":null,"maiden_name":null,"title":null,"other_title":null,"idct":null,"mass_mailing_accepted":null,"mass_sms_accepted":null,"enable_outlook_conversations_sync":true,"price_share":null,"has_company":true,"identity_proof_filename":null,"identity_proof_uploaded":null,"rib_filename":null,"tax_notice_filename":null,"use_tax_notice_of":null,"tax_notice_uploaded":null,"proxy_country":null,"union_foxnot_id":null,"identity_foxnot_id":null,"identity_proof_foxnot_id":null,"marital_status_foxnot_id":null,"sub_grimmo_tiers_id":null,"proof_of_address_filename":null,"user_order":1,"documents_consult_date":null,"purchases_users_id":1000001,"claim_uid":null,"idd":null,"uid":1726559422,"iddst":null,"docusign_embedded":null,"idln":null,"idnt":null,"signed_attempt":null,"signed_date":null,"signer_order":null,"needs_to_sign":null,"uses_proxy":null,"proxy_firstname":null,"proxy_lastname":null,"proxy_email":null,"proxy_phone":null,"proxy_address":null,"iddu":null,"docusign_send_email_when_embedded":null,"idpu":1612518488,"idc":292386834,"is_logged_user":null,"title_caption":null,"custom_data":"{}","has_notary":true,"notary_name":"Mr Notaire","notary_phone":"0123456","notary_address":"6 avenue de la Boetie","notary_city":"Paris","notary_zip":null,"notary_email":"notaire@paris.fr","company_name":"Dupont company","company_share_capital":"888888.00","company_corporate_form":"SARL","idccf":2,"siret":"789456123","company_address":"9 boulevard Gouvion Saint Cyr","company_city":"Paris","company_zip":"75019","company_country":78,"company_province":null,"company_district":null,"company_state":null,"company_country_label":"FRANCE","company_registration_number":null,"company_registration_city":null,"company_kbis_filename":null,"country_label":null,"idoc":null,"checked_manually":false,"check_started":null,"check_sent_by_email":null,"check_pending":false,"check_completed":null,"check_withdrawn":null,"check_failed":null,"check_inconsistent_data":null,"email_check_can_be_resend":null,"check_can_be_restarted":null,"onfido_id":null,"last_onfido_report_idoc":null,"idwk":null,"idw":null,"locale_code_language":"fr_FR","has_buyer_partner":false,"full_name":"Dupont","src_photo":"/user-photo/1726559422/"}],"reservation_date":"2018-03-01 00:00:00+00","sru_delay_ended":null,"contract_added_date":"2020-01-10 00:00:00+00","second_group_signed_date":"2018-03-01 00:00:00+00","second_group_max_signer_uid":601,"second_group_signed_attempt":null,"user_form_fully_answered":null,"docusign_envelope":null,"signature_started":"2018-02-01 00:00:00+00","custom_attachment_filename":null,"first_group_signed_date":"2018-02-01 00:00:00+00","static_contract_filename":"other_document_static_filename.pdf","signed_contract_filename":"other_document_signed_filename.pdf","last_contract_notice_voided":null,"all_contract_notices_sent":null,"all_contract_notices_received":null,"one_contract_notified_with_errors":false,"all_electronic_contract_notices_viewed":null,"has_electronic_contract_notice":null,"has_no_contract_notice":false,"contract_idst":2,"contract_idcgt":2,"contract_idd":1533565363,"sales_contract_added_date":null,"sales_contract_signed_date":null,"precontract_information_notice_sent_date":null,"contract_iddm":21,"pre_contract_iddm":null,"sales_contract_iddm":null,"belgium":false,"pre_contract_signed_date":null,"all_bill_notices_sent":null,"all_bill_notices_received":null,"option_requested_date":null,"tax_notice_required":false,"has_loan_condition":true,"all_identity_proofs_uploaded":null,"all_tax_notices_uploaded":null,"deposit_amount_or_percent":"amount","reservation_fee_amount_or_percent":null,"true_total_paid":"50000.000","use_prices_excluding_vat":false,"has_notary":true,"is_web_lead":false,"web_activities_processed":null,"web_activity_to_process_since":null,"one_loan_request_pending_for_completion":false,"one_loan_request_pending_for_validation":null,"one_loan_request_pending_for_submission":null,"one_loan_request_pending_for_upload":"2018-10-10 00:00:00+00","one_loan_request_pending_for_bank_validation":"2018-10-10 00:00:00+00","one_loan_request_pending_for_bank_proposal":"2018-10-10 00:00:00+00","one_loan_offer_pending":"2018-11-12 00:00:00+00","one_loan_offer_pending_for_insurance":null,"one_loan_offer_pending_for_client_validation":null,"one_loan_offer_pending_for_upload":"2018-11-12 00:00:00+00","one_loan_offer_is_expired":null,"one_mortgage_valuation_booked":null,"one_mortgage_valuation_completed":null,"one_mortgage_offer_received":null,"all_loan_requests_completed":"2018-10-10 00:00:00+00","all_loan_requests_validated":null,"all_loan_requests_submitted":null,"all_loan_requests_uploaded":"2018-11-12 00:00:00+00","all_loan_requests_pre_accepted":"2018-11-12 00:00:00+00","all_loan_offers_obtained":"2018-11-12 00:00:00+00","all_loan_offers_uploaded":null,"all_insurances_obtained":null,"all_loan_offers_accepted":null,"docs_first_group_embedded_signed_date":null,"docs_first_group_remote_signed_date":null,"docs_first_group_paper_signed_date":null,"docs_first_group_signed_date":null,"some_doc_signature_can_be_started_since":"2020-01-10 00:00:00+00","some_doc_signature_started_embedded":null,"some_doc_signature_started_remote":null,"some_doc_paper_signature_started":null,"docs_signature_started":null,"some_doc_buyer_docusign_remote":null,"some_doc_buyer_docusign_embedded":null,"some_elec_doc_must_be_developer_signed":null,"some_elec_doc_developer_sign_processed":null,"docs_elec_developer_sign_processed":null,"docs_elec_developer_signed":"2018-03-01 00:00:00+00","some_doc_questionnaire_not_answered":null,"docs_questionnaires_answered":null,"docs_paper_developer_signed":null,"some_paper_doc_must_be_developer_signed":null,"docs_first_group_embedded_signed_attempt":null,"docs_signed_uploaded":null,"some_doc_need_draft_validation":null,"docs_draft_validated":null,"docs_developer_signed":"2018-03-01 00:00:00+00","first_doc_added_date":"2020-01-10 00:00:00+00","some_docusign_envelope_expiring_soon":null,"all_docs_elec_signed":null,"exchange_date_target":null,"all_check_completed":null,"all_check_started":null,"one_check_failed":null,"one_check_inconsistent":null,"all_enquiries_raised_date":null,"all_enquiries_answered_date":null,"some_enquiries_raised_date":null,"retraction_possible_until":null,"contract_started":null,"in_sru":null,"rdv_incoming":null,"purchase_objective":null,"scheduled_delivery":null,"delivery_date":"2018-01-01","buyers_signed_mail_copy_to_seller":true,"extra_info_yaml_idqt":null,"enable_extra_work_planned":false,"np_code":null,"idbl":1,"payment_schedule":null,"status_since":"2018-03-01 00:00:00+00","status":20,"status_caption":"R\xE9serv\xE9","status_color":"#307ce3","default_max_option_expiration_date":"2018-01-02 00:00:00+00","default_plot_vat":null,"cancelled_reason_caption":null,"refusal_reason":null,"uses_plot_prices":false,"default_vat":"0.2000","uses_fee_prices":false,"default_fee_vat":null,"financial_attestation_validated":null,"total_price":240000,"total_stock_price":300000,"total_stock_price_excluding_vat":250000,"total_raw_price":200000,"total_price_minus_delivery":240000,"options_at_delivery_price":0,"total_options":0,"total_options_excluding_vat":0,"total_construction_excluding_vat":200000,"total_plot_excluding_vat":null,"total_fee_excluding_vat":null,"total_construction_including_vat":240000,"total_plot_including_vat":null,"total_fee_including_vat":null,"deposit":"1000.00","is_admin":false,"company_types":[{"idct":1,"caption":"Sole proprietorship","country_id":182},{"idct":2,"caption":"Private company limited by shares","country_id":182},{"idct":3,"caption":"Private company limited by guarantee","country_id":182},{"idct":4,"caption":"General partnership","country_id":182},{"idct":5,"caption":"LLP - Limited Liability Partnership","country_id":182},{"idct":6,"caption":"SLP - Scottish limited partnership","country_id":182},{"idct":7,"caption":"LP - Limited partnership","country_id":182},{"idct":8,"caption":"Public Limited Company","country_id":182},{"idct":9,"caption":"Unlimited company","country_id":182},{"idct":10,"caption":"CIO - Charitable Incorporated Organisation","country_id":182},{"idct":11,"caption":"CIC - Community Interest Company","country_id":182},{"idct":12,"caption":"Sole trader","country_id":16},{"idct":13,"caption":"LLP - Limited Liability Partnership","country_id":16},{"idct":14,"caption":"ILP - Incorporated Limited Partnership","country_id":16},{"idct":15,"caption":"Inc. - Incorporation","country_id":16},{"idct":16,"caption":"Ltd. - Limited company","country_id":16},{"idct":17,"caption":"Pty. - Proprietary company","country_id":16},{"idct":18,"caption":"Pty. Ltd. - Proprietary Limited company","country_id":16},{"idct":19,"caption":"NL - No Liability company","country_id":16},{"idct":20,"caption":"Trust","country_id":16},{"idct":21,"caption":"Indigenous Corporation","country_id":16}],"titles":[{"idt":0,"caption":"Autre","country_id":182,"sex":null},{"idt":1,"caption":"M.","country_id":182,"sex":1},{"idt":2,"caption":"Mme.","country_id":182,"sex":2},{"idt":3,"caption":"Miss","country_id":182,"sex":2},{"idt":4,"caption":"Madame","country_id":182,"sex":2},{"idt":5,"caption":"Dr.","country_id":182,"sex":null},{"idt":6,"caption":"Autre","country_id":16,"sex":null},{"idt":7,"caption":"M.","country_id":16,"sex":1},{"idt":8,"caption":"Mme.","country_id":16,"sex":2},{"idt":9,"caption":"Miss","country_id":16,"sex":2},{"idt":10,"caption":"Madame","country_id":16,"sex":2},{"idt":11,"caption":"Dr.","country_id":16,"sex":null}],"foxnot_errors":null,"owners":null,"developer":{"wid":1528263624,"label":"Developer 1","enable_new_origins":true},"idoa_desired_areas":[],"external_signatory":[],"incoming_appointments":[],"programs":[],"crm_channels":[],"comment":null,"comment_history":[],"seller_email":null,"tax_measures":[{"idtm":13,"title":"D\xE9membrement/ Nue-propri\xE9t\xE9"},{"idtm":15,"title":"Zone ANRU"},{"idtm":17,"title":"Prix maitris\xE9"},{"idtm":18,"title":"ACCESSION"},{"idtm":21,"title":"VIR"},{"idtm":22,"title":"Droit Commun"},{"idtm":5,"title":"TVA REDUITE"},{"idtm":16,"title":"PLS"},{"idtm":6,"title":"TVA 5.5"},{"idtm":7,"title":"TVA 7"},{"idtm":9,"title":"PTZ+"},{"idtm":12,"title":"PSLA"},{"idtm":24,"title":"BRS"},{"idtm":1,"title":"L.M.P."},{"idtm":2,"title":"L.M.N.P."},{"idtm":3,"title":"DEMESSINE (Z.R.R.)"},{"idtm":4,"title":"LOI GIRARDIN"},{"idtm":8,"title":"LOI BOUVARD"},{"idtm":10,"title":"LOI DUFLOT"},{"idtm":11,"title":"LOI PINEL"},{"idtm":19,"title":"LOI MALRAUX"},{"idtm":20,"title":"PINEL ANCIEN "},{"idtm":23,"title":"PINEL +"}],"corporate_forms":[{"idccf":8,"code":"ACT","caption":"ACT - Autre Collectivit\xE9 Territoriale"},{"idccf":7,"code":"AD","caption":"AD - Association D\xE9clar\xE9e"},{"idccf":6,"code":"EURL","caption":"EURL - Entreprise Unipersonnelle \xE0 Responsabilit\xE9 Limit\xE9e"},{"idccf":13,"code":"GIE","caption":"GIE - Groupement d Int\xE9r\xEAt Economique"},{"idccf":5,"code":"SA","caption":"SA - Soci\xE9t\xE9 Anonyme"},{"idccf":2,"code":"SARL","caption":"SARL - Soci\xE9t\xE9 \xE0 Responsabilit\xE9 Limit\xE9e"},{"idccf":3,"code":"SAS","caption":"SAS - Soci\xE9t\xE9 par Actions Simplifi\xE9e"},{"idccf":4,"code":"SASU","caption":"SASU - Soci\xE9t\xE9 par Actions Simplifi\xE9e Unipersonnelle"},{"idccf":15,"code":"SCCV","caption":"SCCV - Soci\xE9t\xE9 Civile de Construction Vente"},{"idccf":1,"code":"SCI","caption":"SCI - Soci\xE9t\xE9 Civile Immobili\xE8re"},{"idccf":10,"code":"SDC","caption":"SDC - Syndicat De Copropri\xE9t\xE9"},{"idccf":12,"code":"SEM","caption":"SEM - Soci\xE9t\xE9 d Economie Mixte"},{"idccf":11,"code":"SEP","caption":"SEP - Soci\xE9t\xE9 En Participation"},{"idccf":9,"code":"SNC","caption":"SNC - Soci\xE9t\xE9 en Nom Collectif"},{"idccf":14,"code":"other","caption":"Autre"}],"guarantee_types":[{"value":1,"label":"Cautionnement"},{"value":2,"label":"Hypoth\xE8que"},{"value":3,"label":"Privil\xE8ge de pr\xEAteur de deniers"},{"value":4,"label":"Nantissement"}],"program":{"caption":"program 1","city":"Puteaux","postal_code":null,"address":"1 rue de la r\xE9publique","iban":null,"delivery_date":"2018-01-01","scheduled_delivery":null,"sru_iddot":null,"cover_letter_iddot":null,"uses_other_buyers_email":false,"uses_unique_phone_number":false,"uses_re_resale":false,"idpays":null,"custom_data":{"TEST":"test"},"flag":null,"contract_preparation_time":null,"wid":1528263624,"idslg":2,"bill_deadline":null,"uses_bill_deadline":false,"loan_application_delay":null,"uses_loan_application_delay":false,"loan_offer_delay":null,"uses_loan_offer_delay":false,"documents_timezone":"Europe/Paris","custom_roles":{"charge_clientele":[{"lastname":"Took","firstname":"Peregrin","email":"pippin@shire.lotr","phone":"0123456789","mobilePhone":"06123456789","adresse":null,"ville":null,"code_postal":null,"pays":null},{"lastname":"Robichet","firstname":"Robert","email":"robert.robichet@getunlatch.com","phone":"0123456789","mobilePhone":"0612345678","adresse":null,"ville":null,"code_postal":null,"pays":null}],"simple_role":{"lastname":"Robichet","firstname":"Robert","email":"robert.robichet@getunlatch.com","phone":"0123456789","mobilePhone":"0612345678","adresse":null,"ville":null,"code_postal":null,"pays":null}}},"default_phone_prefix":"FR","lot":{"idp":301,"lot_number":"program 1 lot 2","surface":"54.00","stock_price":"250000.000","external_id":null,"lot_type":"B1","lot_floor":"A2","externally_locked":false,"lot_building":"program 1 lot 2 building","contractual_exposure":null,"number_of_rooms":3,"legal_number":null,"minimum_price":null,"wid":2001,"idpt":1,"common_part_quota":null,"plot_quota":null,"plot_stock_price":null,"minimum_plot_price":null,"fee_stock_price":null,"minimum_fee_price":null,"exclude_from_ads":false,"questionnaire_answered":null,"custom_data":null,"lock_date":null,"ownership_title_filename":null,"bank_details_filename":null,"tax_filename":null,"plans_filename":null,"diagnosis_filename":null,"signed_attempt":null,"ownership_title_added":null,"bank_details_added":null,"tax_added":null,"plans_added":null,"diagnosis_added":null,"mandate_filename":null,"ppm_id":null,"lf_id":null,"lf_is_option_confirmed":null,"lf_token_email":null,"gr_id":null,"ax_id":null,"lz_id":null,"mki_id":null,"md_id":null,"exclude_from_agimmo":false,"lot_floor_index":null,"delivery_date":null,"address":null,"city":null,"postal_code":null,"idpays":null,"comment":null,"added":"2018-01-01 00:00:00+00","spo_id":null,"id_ad_ubi_fr":null,"id_ad_ubi_eu":null,"gr_tranche_id":null,"sap_rating":null,"built_area":null,"bathroom_number":null,"bedroom_number":null,"dpe_power_consumption_score":null,"dpe_power_consumption":null,"dpe_greenhouse_gas_emissions":null,"exposure":null,"designation":null,"idl":1612518488,"register_num":null,"surfaces":[]},"secondary_lots":[],"loan_conditions":[{"idpu":2002,"amount":"250000.00","max_rate":"2.00","bank":null,"offer_uploaded":null,"offer_date":"2018-11-12","offer_filename":null,"insurance_offer_date":null,"year_duration":null,"idplc":1871712907,"request_date":"2018-10-10 00:00:00+00","request_uploaded":null,"request_filename":null,"offer_accepted":null,"offer_expiry":null,"idgt":null,"require_insurance":false,"insurance_obtained":null,"external_id":null,"request_completed":null,"request_validated":null,"request_accepted_in_principle":null,"key_element_in_principle_requested":null,"monthly":null,"idlt":1,"gr_id":null,"rejection_date":"2020-10-10 00:00:00+00","mortgage_valuation_booked":null,"mortgage_valuation_completed":null,"mortgage_offer_received":null,"agreement_in_principle_filename":null,"agreement_in_principle_uploaded":null,"spo_id":null,"assume_loan_request_uploaded":null,"assume_loan_offer_uploaded":null,"loan_request_pending_for_completion":false,"loan_request_pending_for_validation":null,"loan_request_pending_for_submission":null,"loan_request_pending_for_upload":"2018-10-10 00:00:00+00","loan_request_pending_for_bank_validation":"2018-10-10 00:00:00+00","loan_request_pending_for_bank_proposal":"2018-10-10 00:00:00+00","loan_offer_pending_for_upload":"2018-11-12 00:00:00+00","loan_offer_pending":"2018-11-12 00:00:00+00","loan_offer_pending_for_insurance":null,"loan_offer_pending_for_client_validation":"2018-11-12 00:00:00+00","loan_offer_is_expired":null,"loan_offer_pending_without_expiration":"2018-11-12 00:00:00+00","loan_offer_pending_with_expiration":"2018-11-12 00:00:00+00","expiration_date_missing":true,"has_expired":false,"pending":true},{"idpu":2002,"amount":"250000.00","max_rate":"2.00","bank":null,"offer_uploaded":null,"offer_date":"2018-11-12","offer_filename":null,"insurance_offer_date":null,"year_duration":null,"idplc":1713320851,"request_date":"2018-10-10 00:00:00+00","request_uploaded":null,"request_filename":"loan_request.pdf","offer_accepted":null,"offer_expiry":null,"idgt":null,"require_insurance":false,"insurance_obtained":null,"external_id":null,"request_completed":null,"request_validated":null,"request_accepted_in_principle":null,"key_element_in_principle_requested":null,"monthly":null,"idlt":1,"gr_id":null,"rejection_date":null,"mortgage_valuation_booked":null,"mortgage_valuation_completed":null,"mortgage_offer_received":null,"agreement_in_principle_filename":"loan_agreement.pdf","agreement_in_principle_uploaded":null,"spo_id":null,"assume_loan_request_uploaded":null,"assume_loan_offer_uploaded":null,"loan_request_pending_for_completion":false,"loan_request_pending_for_validation":null,"loan_request_pending_for_submission":null,"loan_request_pending_for_upload":"2018-10-10 00:00:00+00","loan_request_pending_for_bank_validation":"2018-10-10 00:00:00+00","loan_request_pending_for_bank_proposal":"2018-10-10 00:00:00+00","loan_offer_pending_for_upload":"2018-11-12 00:00:00+00","loan_offer_pending":"2018-11-12 00:00:00+00","loan_offer_pending_for_insurance":null,"loan_offer_pending_for_client_validation":"2018-11-12 00:00:00+00","loan_offer_is_expired":null,"loan_offer_pending_without_expiration":"2018-11-12 00:00:00+00","loan_offer_pending_with_expiration":"2018-11-12 00:00:00+00","expiration_date_missing":true,"has_expired":false,"pending":true}],"options":{"TEST_LOT_OPTION":{"md_name":"TEST_LOT_OPTION","price":"0.000","plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option","display_order":0,"idlo":1871712907,"selected_count":1,"start_date":"2020-10-10","end_date":"2028-10-10"}},"all_options_by_name":{"TEST_LOT_OPTION":{"md_name":"TEST_LOT_OPTION","price":"0.000","plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option","display_order":0,"idlo":1871712907,"selected_count":1,"start_date":"2020-10-10","end_date":"2028-10-10"},"TEST_LOT_OPTION_2":{"md_name":"TEST_LOT_OPTION_2","price":null,"plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option 2","display_order":0,"idlo":1392012524,"selected_count":0,"start_date":null,"end_date":null}},"all_options":[{"md_name":"TEST_LOT_OPTION","price":"0.000","plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option","display_order":0,"idlo":1871712907,"selected_count":1,"start_date":"2020-10-10","end_date":"2028-10-10"},{"md_name":"TEST_LOT_OPTION_2","price":null,"plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option 2","display_order":0,"idlo":1392012524,"selected_count":0,"start_date":null,"end_date":null}],"discounts":{"TEST_LOT_OPTION":{"md_name":"TEST_LOT_OPTION","price":"0.000","plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option","display_order":0,"idlo":1871712907,"selected_count":1,"start_date":"2020-10-10","end_date":"2028-10-10"}},"buyers_count":1,"weddings":[],"payments":[{"amount":50000,"payment_date":"2020-01-01 00:00:00+00:00"}],"payment_schedule_steps":[{"label":"Signature du contrat de r\xE9servation","due_date":"2018-02-01 00:00:00+00:00","previsional_date":null,"idpss":"DEPOSIT","percent_after":null,"amount_after":1000,"percent":0,"percent_complement":null,"is_paid":true,"price":"1000","call_date":null,"step_due_date":null},{"label":"Etape 1","due_date":null,"previsional_date":"2020-10-22","idpss":"365262119","percent_after":"40","amount_after":null,"percent":40,"percent_complement":1000,"is_paid":false,"price":"95000","call_date":null,"step_due_date":null},{"label":"Etape 2","due_date":null,"previsional_date":"2020-12-23","idpss":"816059452","percent_after":"100","amount_after":null,"percent":60,"percent_complement":null,"is_paid":false,"price":"144000","call_date":null,"step_due_date":null}],"fund_call":[],"documents":[{"document_data":[],"document_info":{"idd":732174345,"caption":"purchase other document test","added_date":"2020-01-10 00:00:00+00","second_group_some_needs_to_sign":null,"second_group_signed_date":null,"user_form_fully_answered":null,"signed_document_uploaded":null}},{"document_data":[],"document_info":{"idd":1127887991,"caption":"Test sans fichier","added_date":"2020-01-10 00:00:00+00","second_group_some_needs_to_sign":null,"second_group_signed_date":null,"user_form_fully_answered":null,"signed_document_uploaded":"2018-03-01 00:00:00+00"}},{"document_data":[],"document_info":{"idd":1533565363,"caption":"Contrat de r\xE9servation","added_date":"2020-01-10 00:00:00+00","second_group_some_needs_to_sign":true,"second_group_signed_date":"2018-03-01 00:00:00+00","user_form_fully_answered":null,"signed_document_uploaded":"2018-03-01 00:00:00+00"}},{"document_data":[],"document_info":{"idd":2133874308,"caption":"Appel de fonds (40%, 100%)","added_date":"2020-01-10 00:00:00+00","second_group_some_needs_to_sign":true,"second_group_signed_date":"2018-03-01 00:00:00+00","user_form_fully_answered":null,"signed_document_uploaded":"2018-03-01 00:00:00+00"}}],"origins":[],"all_origins":[{"origin_medium_id":2099334293,"medium":"Autres","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1043664473,"medium":"Base de donn\xE9es","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":2107142622,"medium":"Bouche \xE0 oreille","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":301094326,"medium":"Bulle de vente","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":292386834,"medium":"Emailing","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":292386834,"medium":"Emailing","origin_source_id":798037801,"source":"Campagne","origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":798037801,"medium":"Lignage","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":798037801,"medium":"Lignage","origin_source_id":533998763,"source":"Test API Lignage","origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1424829793,"medium":"Panneaux","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1644703828,"medium":"Parrainage","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1488736195,"medium":"Prescription","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":365262119,"medium":"Presse","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":928789421,"medium":"R\xE9seaux sociaux","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1844866020,"medium":"SMS","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1844866020,"medium":"SMS","origin_source_id":1330073214,"source":"Campagne","origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1013977410,"medium":"Salons - Ev\xE8nements","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":854406808,"medium":"Site vitrine","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":854406808,"medium":"Site vitrine","origin_source_id":413822670,"source":"Test API Site vitrine","origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":816059452,"medium":"Tracts","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":2055958251,"medium":"T\xE9l\xE9phone","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null}],"all_channels":[],"currencies":[],"purchase_currency":{"idc":292386834,"iso_code":"EUR","name":"Euro","rate":1,"last_rate_update":"2021-08-12T00:00:00+00:00"},"locales":[{"value":1,"caption":"Anglais"},{"value":2,"caption":"Fran\xE7ais"},{"value":3,"caption":"Espagnol"},{"value":4,"caption":"Portugais (Portugal)"},{"value":5,"caption":"N\xE9erlandais (Belgique)"},{"value":6,"caption":"Fran\xE7ais (Belgique)"},{"value":7,"caption":"Fran\xE7ais (Luxembourg)"},{"value":8,"caption":"Anglais (Australie)"},{"value":9,"caption":"Catalan"},{"value":10,"caption":"Anglais (Afrique du Sud)"}],"enquiries":[],"lead_custom_fields":[],"contact_custom_data":[{"idwcdi":2002,"caption":"test_contact_1","key":"test_contact","type":"text","idcdt":1,"choices":null,"show_in_explorer":false,"show_in_dashboard":true,"show_in_purchaser_portal":false,"icon":null},{"idwcdi":2003,"caption":"test_contact_2","key":"test_contact2","type":"text","idcdt":1,"choices":null,"show_in_explorer":false,"show_in_dashboard":true,"show_in_purchaser_portal":false,"icon":null}],"purchase_custom_fields":[],"rental_period":null,"rent_initial_charges":[]}'),Be=JSON.parse('{"idpu":1612518488,"idl":1612518488,"idps":365262119,"row_created_date":"2020-10-23 08:34:03.315484+00","bill_date":null,"rdv_date":null,"cancelled_date":null,"lot_price":"200000.000","vat":"0.2000","deposit_amount":"1000.00","deposit_wire":null,"sales_certificate_filename":null,"idpo":null,"custom_data":{"TEST":"test"},"seller":null,"legacy_commercial_gesture":null,"rdv_created":null,"bill_filename":null,"bill_uploaded":null,"buyers_documents_reviewed_date":null,"assume_tax_notice_uploaded":null,"assume_bill_uploaded":null,"assume_identity_proof_uploaded":null,"other_documents_filename":null,"deposit_proof_filename":null,"deposit_cheque":null,"buyers_contribution":null,"buyers_annual_income":null,"deposit_percent":null,"deposit_at_signature":null,"loan_application_delay":null,"loan_offer_delay":null,"bill_deadline":null,"assume_loan_offer_uploaded":null,"bill_paid_date":null,"rdv_prepared":null,"last_notified_expiration":null,"external_id":null,"deposit_confirmed":null,"iddm":null,"assume_loan_request_uploaded":null,"last_webhook_status":20,"wid":2001,"lead_budget":null,"interest_confirmed_date":null,"electronic_notification_accepted":null,"lot_assignment_date":"2018-01-01 00:00:00+00","claimed_lead_confirmed":null,"is_suspect_since":null,"building_permit_request_uploaded":null,"building_permit_request_filename":null,"building_permit_uploaded":null,"building_permit_filename":null,"idcps":null,"claimed_lead_rejected":null,"claimed_lead_rejected_reason":null,"ddt_transmission":null,"option_exercised":null,"tmp_contract_s3_migration":false,"lot_option_expires":null,"signature_funds_deposited":null,"enable_ht_fund_calls":false,"idtm":null,"intent_to_waive_requested":null,"intent_to_waive_date":null,"deposit_wire_requested":null,"proxy_notary_model_sent":null,"proxy_notary_model_received":null,"proxy_notary_model_signed":null,"plot_vat":null,"plot_lot_price":null,"foxnot_id":null,"genapi_id":null,"seller_foxnot_id":null,"union_seller_foxnot_id":null,"foxnot_invalid_since":null,"foxnot_valid_since":null,"foxnot_error":null,"invalid_cache":false,"add_purchase_passed":null,"deposit_confirmed_filled_date":null,"lock_date":null,"extra_work_planned":false,"idacr":null,"has_broker":false,"agimmo_id":null,"pre_delivered":null,"delivered":null,"ppm_id":null,"lf_id":null,"gr_id":null,"gr_idps":null,"ax_id":null,"ax_idps":null,"lz_id":null,"lz_idps":null,"lz_prevent_sync":false,"mki_id":null,"md_id":null,"min_desired_delivery_date":null,"max_desired_delivery_date":null,"idoa_living_area":null,"is_claimed_lead":false,"nb_rooms_desired":null,"deposit_bank":null,"deposit_ref":null,"created":"2018-01-01 00:00:00+00","grimmo_tiers_id":null,"lf_idps":null,"spo_id":null,"uses_only_documents":false,"has_htb_enabled":null,"atp_application_date":null,"atp_reception_date":null,"ate_request_date":null,"ate_reception_date":null,"searches_application_date":null,"searches_reception_date":null,"lead_id":null,"is_draft":false,"legal_pack_send_date":null,"reservation_fee_amount":null,"reservation_fee_percent":null,"reservation_fee_confirmed":null,"remaining_balance_received":null,"project_name":null,"kyc_verification":null,"first_occupation_permit":null,"availability_of_funds":null,"exchanged_date":null,"option_exercised_request":null,"option_exercised_appointment":null,"option_exercise_letter_filename":null,"option_exercise_deed_uploaded":null,"option_exercise_deed_filename":null,"option_exercise_attestation_uploaded":null,"option_exercise_attestation_filename":null,"custom_fields":[],"spo_sync":null,"need_loan":false,"option_prolonged":false,"prolonged_by":null,"fund_call_comment":null,"sales_certificates_updated":null,"fee_vat":null,"fee_lot_price":null,"option_total_raw_stock_price":null,"option_total_stock_price":null,"financial_attestation_uploaded":null,"lu_vat_not_reduced":null,"proof_of_fund_verification_date":null,"commission_fee_used":null,"lease_start_date":null,"lease_end_date":null,"lease_billing_day_of_month":null,"lot_rent_price":null,"secondary_lots_rent_price":null,"first_rent_amount":null,"idp":1426021430,"program_caption":"program 1","program_city":"Puteaux","activate_sru_steps":true,"activate_notification_bill":true,"billable_date":null,"suppose_loans_granted":false,"funding_wait_duration":null,"uses_billable_date":false,"uses_re_resale":false,"identity_check_enabled":false,"proof_of_address_check_enabled":false,"uses_sales_contract":false,"uses_uk_loan_tasks":false,"contract_preparation_time":null,"lot_number":"program 1 lot 2","buyers":[{"nom":"Dupont","prenom":null,"prenom_2":null,"prenom_3":null,"prenom_4":null,"email":"contact@gmail.org","uses_email_of":null,"tel_fixe":null,"tel_portable":null,"adresse":null,"ville":null,"codepostal":null,"city_insee_code":null,"province":null,"state":null,"district":null,"country":null,"country_state":null,"nationality":null,"sex":0,"idslg":2,"job":null,"birthdate":null,"birthplace":null,"birth_zip_code":null,"birth_insee_code":null,"birth_country":null,"partner_prenom":null,"partner_nom":null,"wedding":null,"maiden_name":null,"title":null,"other_title":null,"idct":null,"mass_mailing_accepted":null,"mass_sms_accepted":null,"enable_outlook_conversations_sync":true,"price_share":null,"has_company":true,"identity_proof_filename":null,"identity_proof_uploaded":null,"rib_filename":null,"tax_notice_filename":null,"use_tax_notice_of":null,"tax_notice_uploaded":null,"proxy_country":null,"union_foxnot_id":null,"identity_foxnot_id":null,"identity_proof_foxnot_id":null,"marital_status_foxnot_id":null,"sub_grimmo_tiers_id":null,"proof_of_address_filename":null,"user_order":1,"documents_consult_date":null,"purchases_users_id":1000001,"claim_uid":null,"idd":41,"uid":1726559422,"iddst":1,"docusign_embedded":null,"idln":null,"idnt":null,"signed_attempt":null,"signed_date":"2018-02-01 00:00:00+00","signer_order":1,"needs_to_sign":true,"uses_proxy":null,"proxy_firstname":null,"proxy_lastname":null,"proxy_email":null,"proxy_phone":null,"proxy_address":null,"iddu":2002,"docusign_send_email_when_embedded":null,"idpu":1612518488,"idc":292386834,"is_logged_user":null,"title_caption":null,"custom_data":"{}","has_notary":true,"notary_name":"Mr Notaire","notary_phone":"0123456","notary_address":"6 avenue de la Boetie","notary_city":"Paris","notary_zip":null,"notary_email":"notaire@paris.fr","company_name":"Dupont company","company_share_capital":"888888.00","company_corporate_form":"SARL","idccf":2,"siret":"789456123","company_address":"9 boulevard Gouvion Saint Cyr","company_city":"Paris","company_zip":"75019","company_country":78,"company_province":null,"company_district":null,"company_state":null,"company_country_label":"FRANCE","company_registration_number":null,"company_registration_city":null,"company_kbis_filename":null,"country_label":null,"idoc":null,"checked_manually":false,"check_started":null,"check_sent_by_email":null,"check_pending":false,"check_completed":null,"check_withdrawn":null,"check_failed":null,"check_inconsistent_data":null,"email_check_can_be_resend":null,"check_can_be_restarted":null,"onfido_id":null,"last_onfido_report_idoc":null,"idwk":null,"idw":null,"locale_code_language":"fr_FR","has_buyer_partner":false,"full_name":"Dupont","src_photo":"/user-photo/1726559422/"}],"reservation_date":"2018-03-01 00:00:00+00","sru_delay_ended":null,"contract_added_date":"2020-01-10 00:00:00+00","second_group_signed_date":"2018-03-01 00:00:00+00","second_group_max_signer_uid":601,"second_group_signed_attempt":null,"user_form_fully_answered":null,"docusign_envelope":null,"signature_started":"2018-02-01 00:00:00+00","custom_attachment_filename":null,"first_group_signed_date":"2018-02-01 00:00:00+00","static_contract_filename":"other_document_static_filename.pdf","signed_contract_filename":"other_document_signed_filename.pdf","last_contract_notice_voided":null,"all_contract_notices_sent":null,"all_contract_notices_received":null,"one_contract_notified_with_errors":false,"all_electronic_contract_notices_viewed":null,"has_electronic_contract_notice":null,"has_no_contract_notice":false,"contract_idst":2,"contract_idcgt":2,"contract_idd":1533565363,"sales_contract_added_date":null,"sales_contract_signed_date":null,"precontract_information_notice_sent_date":null,"contract_iddm":21,"pre_contract_iddm":null,"sales_contract_iddm":null,"belgium":false,"pre_contract_signed_date":null,"all_bill_notices_sent":null,"all_bill_notices_received":null,"option_requested_date":null,"tax_notice_required":false,"has_loan_condition":true,"all_identity_proofs_uploaded":null,"all_tax_notices_uploaded":null,"deposit_amount_or_percent":"amount","reservation_fee_amount_or_percent":null,"true_total_paid":"50000.000","use_prices_excluding_vat":false,"has_notary":true,"is_web_lead":false,"web_activities_processed":null,"web_activity_to_process_since":null,"one_loan_request_pending_for_completion":false,"one_loan_request_pending_for_validation":null,"one_loan_request_pending_for_submission":null,"one_loan_request_pending_for_upload":"2018-10-10 00:00:00+00","one_loan_request_pending_for_bank_validation":"2018-10-10 00:00:00+00","one_loan_request_pending_for_bank_proposal":"2018-10-10 00:00:00+00","one_loan_offer_pending":"2018-11-12 00:00:00+00","one_loan_offer_pending_for_insurance":null,"one_loan_offer_pending_for_client_validation":null,"one_loan_offer_pending_for_upload":"2018-11-12 00:00:00+00","one_loan_offer_is_expired":null,"one_mortgage_valuation_booked":null,"one_mortgage_valuation_completed":null,"one_mortgage_offer_received":null,"all_loan_requests_completed":"2018-10-10 00:00:00+00","all_loan_requests_validated":null,"all_loan_requests_submitted":null,"all_loan_requests_uploaded":"2018-11-12 00:00:00+00","all_loan_requests_pre_accepted":"2018-11-12 00:00:00+00","all_loan_offers_obtained":"2018-11-12 00:00:00+00","all_loan_offers_uploaded":null,"all_insurances_obtained":null,"all_loan_offers_accepted":null,"docs_first_group_embedded_signed_date":null,"docs_first_group_remote_signed_date":null,"docs_first_group_paper_signed_date":null,"docs_first_group_signed_date":null,"some_doc_signature_can_be_started_since":"2020-01-10 00:00:00+00","some_doc_signature_started_embedded":null,"some_doc_signature_started_remote":null,"some_doc_paper_signature_started":null,"docs_signature_started":null,"some_doc_buyer_docusign_remote":null,"some_doc_buyer_docusign_embedded":null,"some_elec_doc_must_be_developer_signed":null,"some_elec_doc_developer_sign_processed":null,"docs_elec_developer_sign_processed":null,"docs_elec_developer_signed":"2018-03-01 00:00:00+00","some_doc_questionnaire_not_answered":null,"docs_questionnaires_answered":null,"docs_paper_developer_signed":null,"some_paper_doc_must_be_developer_signed":null,"docs_first_group_embedded_signed_attempt":null,"docs_signed_uploaded":null,"some_doc_need_draft_validation":null,"docs_draft_validated":null,"docs_developer_signed":"2018-03-01 00:00:00+00","first_doc_added_date":"2020-01-10 00:00:00+00","some_docusign_envelope_expiring_soon":null,"all_docs_elec_signed":null,"exchange_date_target":null,"all_check_completed":null,"all_check_started":null,"one_check_failed":null,"one_check_inconsistent":null,"all_enquiries_raised_date":null,"all_enquiries_answered_date":null,"some_enquiries_raised_date":null,"retraction_possible_until":null,"contract_started":null,"in_sru":null,"rdv_incoming":null,"purchase_objective":null,"scheduled_delivery":null,"delivery_date":"2018-01-01","buyers_signed_mail_copy_to_seller":true,"extra_info_yaml_idqt":null,"enable_extra_work_planned":false,"np_code":null,"idbl":1,"payment_schedule":null,"status_since":"2018-03-01 00:00:00+00","status":20,"status_caption":"R\xE9serv\xE9","status_color":"#307ce3","default_max_option_expiration_date":"2018-01-02 00:00:00+00","default_plot_vat":null,"cancelled_reason_caption":null,"refusal_reason":null,"uses_plot_prices":false,"default_vat":"0.2000","uses_fee_prices":false,"default_fee_vat":null,"financial_attestation_validated":null,"total_price":240000,"total_stock_price":300000,"total_stock_price_excluding_vat":250000,"total_raw_price":200000,"total_price_minus_delivery":240000,"options_at_delivery_price":0,"total_options":0,"total_options_excluding_vat":0,"total_construction_excluding_vat":200000,"total_plot_excluding_vat":null,"total_fee_excluding_vat":null,"total_construction_including_vat":240000,"total_plot_including_vat":null,"total_fee_including_vat":null,"deposit":"1000.00","is_admin":false,"company_types":[{"idct":1,"caption":"Sole proprietorship","country_id":182},{"idct":2,"caption":"Private company limited by shares","country_id":182},{"idct":3,"caption":"Private company limited by guarantee","country_id":182},{"idct":4,"caption":"General partnership","country_id":182},{"idct":5,"caption":"LLP - Limited Liability Partnership","country_id":182},{"idct":6,"caption":"SLP - Scottish limited partnership","country_id":182},{"idct":7,"caption":"LP - Limited partnership","country_id":182},{"idct":8,"caption":"Public Limited Company","country_id":182},{"idct":9,"caption":"Unlimited company","country_id":182},{"idct":10,"caption":"CIO - Charitable Incorporated Organisation","country_id":182},{"idct":11,"caption":"CIC - Community Interest Company","country_id":182},{"idct":12,"caption":"Sole trader","country_id":16},{"idct":13,"caption":"LLP - Limited Liability Partnership","country_id":16},{"idct":14,"caption":"ILP - Incorporated Limited Partnership","country_id":16},{"idct":15,"caption":"Inc. - Incorporation","country_id":16},{"idct":16,"caption":"Ltd. - Limited company","country_id":16},{"idct":17,"caption":"Pty. - Proprietary company","country_id":16},{"idct":18,"caption":"Pty. Ltd. - Proprietary Limited company","country_id":16},{"idct":19,"caption":"NL - No Liability company","country_id":16},{"idct":20,"caption":"Trust","country_id":16},{"idct":21,"caption":"Indigenous Corporation","country_id":16}],"titles":[{"idt":0,"caption":"Autre","country_id":182,"sex":null},{"idt":1,"caption":"M.","country_id":182,"sex":1},{"idt":2,"caption":"Mme.","country_id":182,"sex":2},{"idt":3,"caption":"Miss","country_id":182,"sex":2},{"idt":4,"caption":"Madame","country_id":182,"sex":2},{"idt":5,"caption":"Dr.","country_id":182,"sex":null},{"idt":6,"caption":"Autre","country_id":16,"sex":null},{"idt":7,"caption":"M.","country_id":16,"sex":1},{"idt":8,"caption":"Mme.","country_id":16,"sex":2},{"idt":9,"caption":"Miss","country_id":16,"sex":2},{"idt":10,"caption":"Madame","country_id":16,"sex":2},{"idt":11,"caption":"Dr.","country_id":16,"sex":null}],"foxnot_errors":null,"owners":null,"developer":{"wid":1528263624,"label":"Developer 1","enable_new_origins":true},"idoa_desired_areas":[],"external_signatory":[],"incoming_appointments":[],"programs":[],"crm_channels":[],"seller_email":null,"tax_measures":[{"idtm":13,"title":"D\xE9membrement/ Nue-propri\xE9t\xE9"},{"idtm":15,"title":"Zone ANRU"},{"idtm":17,"title":"Prix maitris\xE9"},{"idtm":18,"title":"ACCESSION"},{"idtm":21,"title":"VIR"},{"idtm":22,"title":"Droit Commun"},{"idtm":5,"title":"TVA REDUITE"},{"idtm":16,"title":"PLS"},{"idtm":6,"title":"TVA 5.5"},{"idtm":7,"title":"TVA 7"},{"idtm":9,"title":"PTZ+"},{"idtm":12,"title":"PSLA"},{"idtm":24,"title":"BRS"},{"idtm":1,"title":"L.M.P."},{"idtm":2,"title":"L.M.N.P."},{"idtm":3,"title":"DEMESSINE (Z.R.R.)"},{"idtm":4,"title":"LOI GIRARDIN"},{"idtm":8,"title":"LOI BOUVARD"},{"idtm":10,"title":"LOI DUFLOT"},{"idtm":11,"title":"LOI PINEL"},{"idtm":19,"title":"LOI MALRAUX"},{"idtm":20,"title":"PINEL ANCIEN "},{"idtm":23,"title":"PINEL +"}],"corporate_forms":[{"idccf":8,"code":"ACT","caption":"ACT - Autre Collectivit\xE9 Territoriale"},{"idccf":7,"code":"AD","caption":"AD - Association D\xE9clar\xE9e"},{"idccf":6,"code":"EURL","caption":"EURL - Entreprise Unipersonnelle \xE0 Responsabilit\xE9 Limit\xE9e"},{"idccf":13,"code":"GIE","caption":"GIE - Groupement d Int\xE9r\xEAt Economique"},{"idccf":5,"code":"SA","caption":"SA - Soci\xE9t\xE9 Anonyme"},{"idccf":2,"code":"SARL","caption":"SARL - Soci\xE9t\xE9 \xE0 Responsabilit\xE9 Limit\xE9e"},{"idccf":3,"code":"SAS","caption":"SAS - Soci\xE9t\xE9 par Actions Simplifi\xE9e"},{"idccf":4,"code":"SASU","caption":"SASU - Soci\xE9t\xE9 par Actions Simplifi\xE9e Unipersonnelle"},{"idccf":15,"code":"SCCV","caption":"SCCV - Soci\xE9t\xE9 Civile de Construction Vente"},{"idccf":1,"code":"SCI","caption":"SCI - Soci\xE9t\xE9 Civile Immobili\xE8re"},{"idccf":10,"code":"SDC","caption":"SDC - Syndicat De Copropri\xE9t\xE9"},{"idccf":12,"code":"SEM","caption":"SEM - Soci\xE9t\xE9 d Economie Mixte"},{"idccf":11,"code":"SEP","caption":"SEP - Soci\xE9t\xE9 En Participation"},{"idccf":9,"code":"SNC","caption":"SNC - Soci\xE9t\xE9 en Nom Collectif"},{"idccf":14,"code":"other","caption":"Autre"}],"guarantee_types":[{"value":1,"label":"Cautionnement"},{"value":2,"label":"Hypoth\xE8que"},{"value":3,"label":"Privil\xE8ge de pr\xEAteur de deniers"},{"value":4,"label":"Nantissement"}],"program":{"caption":"program 1","city":"Puteaux","postal_code":null,"address":"1 rue de la r\xE9publique","iban":null,"delivery_date":"2018-01-01","scheduled_delivery":null,"sru_iddot":null,"cover_letter_iddot":null,"uses_other_buyers_email":false,"uses_unique_phone_number":false,"uses_re_resale":false,"idpays":null,"custom_data":{"TEST":"test"},"flag":null,"contract_preparation_time":null,"wid":1528263624,"idslg":2,"bill_deadline":null,"uses_bill_deadline":false,"loan_application_delay":null,"uses_loan_application_delay":false,"loan_offer_delay":null,"uses_loan_offer_delay":false,"documents_timezone":"Europe/Paris","custom_roles":{"charge_clientele":[{"lastname":"Took","firstname":"Peregrin","email":"pippin@shire.lotr","phone":"0123456789","mobilePhone":"06123456789","adresse":null,"ville":null,"code_postal":null,"pays":null},{"lastname":"Robichet","firstname":"Robert","email":"robert.robichet@getunlatch.com","phone":"0123456789","mobilePhone":"0612345678","adresse":null,"ville":null,"code_postal":null,"pays":null}],"simple_role":{"lastname":"Robichet","firstname":"Robert","email":"robert.robichet@getunlatch.com","phone":"0123456789","mobilePhone":"0612345678","adresse":null,"ville":null,"code_postal":null,"pays":null}}},"default_phone_prefix":"FR","lot":{"idp":301,"lot_number":"program 1 lot 2","surface":"54.00","stock_price":"250000.000","external_id":null,"lot_type":"B1","lot_floor":"A2","externally_locked":false,"lot_building":"program 1 lot 2 building","contractual_exposure":null,"number_of_rooms":3,"legal_number":null,"minimum_price":null,"wid":2001,"idpt":1,"common_part_quota":null,"plot_quota":null,"plot_stock_price":null,"minimum_plot_price":null,"fee_stock_price":null,"minimum_fee_price":null,"exclude_from_ads":false,"questionnaire_answered":null,"custom_data":null,"lock_date":null,"ownership_title_filename":null,"bank_details_filename":null,"tax_filename":null,"plans_filename":null,"diagnosis_filename":null,"signed_attempt":null,"ownership_title_added":null,"bank_details_added":null,"tax_added":null,"plans_added":null,"diagnosis_added":null,"mandate_filename":null,"ppm_id":null,"lf_id":null,"lf_is_option_confirmed":null,"lf_token_email":null,"gr_id":null,"ax_id":null,"lz_id":null,"mki_id":null,"md_id":null,"exclude_from_agimmo":false,"lot_floor_index":null,"delivery_date":null,"address":null,"city":null,"postal_code":null,"idpays":null,"comment":null,"added":"2018-01-01 00:00:00+00","spo_id":null,"id_ad_ubi_fr":null,"id_ad_ubi_eu":null,"gr_tranche_id":null,"sap_rating":null,"built_area":null,"bathroom_number":null,"bedroom_number":null,"dpe_power_consumption_score":null,"dpe_power_consumption":null,"dpe_greenhouse_gas_emissions":null,"exposure":null,"designation":null,"idl":1612518488,"register_num":null,"surfaces":[]},"secondary_lots":[],"loan_conditions":[{"idpu":2002,"amount":"250000.00","max_rate":"2.00","bank":null,"offer_uploaded":null,"offer_date":"2018-11-12","offer_filename":null,"insurance_offer_date":null,"year_duration":null,"idplc":1871712907,"request_date":"2018-10-10 00:00:00+00","request_uploaded":null,"request_filename":null,"offer_accepted":null,"offer_expiry":null,"idgt":null,"require_insurance":false,"insurance_obtained":null,"external_id":null,"request_completed":null,"request_validated":null,"request_accepted_in_principle":null,"key_element_in_principle_requested":null,"monthly":null,"idlt":1,"gr_id":null,"rejection_date":"2020-10-10 00:00:00+00","mortgage_valuation_booked":null,"mortgage_valuation_completed":null,"mortgage_offer_received":null,"agreement_in_principle_filename":null,"agreement_in_principle_uploaded":null,"spo_id":null,"assume_loan_request_uploaded":null,"assume_loan_offer_uploaded":null,"loan_request_pending_for_completion":false,"loan_request_pending_for_validation":null,"loan_request_pending_for_submission":null,"loan_request_pending_for_upload":"2018-10-10 00:00:00+00","loan_request_pending_for_bank_validation":"2018-10-10 00:00:00+00","loan_request_pending_for_bank_proposal":"2018-10-10 00:00:00+00","loan_offer_pending_for_upload":"2018-11-12 00:00:00+00","loan_offer_pending":"2018-11-12 00:00:00+00","loan_offer_pending_for_insurance":null,"loan_offer_pending_for_client_validation":"2018-11-12 00:00:00+00","loan_offer_is_expired":null,"loan_offer_pending_without_expiration":"2018-11-12 00:00:00+00","loan_offer_pending_with_expiration":"2018-11-12 00:00:00+00","expiration_date_missing":true,"has_expired":false,"pending":true},{"idpu":2002,"amount":"250000.00","max_rate":"2.00","bank":null,"offer_uploaded":null,"offer_date":"2018-11-12","offer_filename":null,"insurance_offer_date":null,"year_duration":null,"idplc":1713320851,"request_date":"2018-10-10 00:00:00+00","request_uploaded":null,"request_filename":"loan_request.pdf","offer_accepted":null,"offer_expiry":null,"idgt":null,"require_insurance":false,"insurance_obtained":null,"external_id":null,"request_completed":null,"request_validated":null,"request_accepted_in_principle":null,"key_element_in_principle_requested":null,"monthly":null,"idlt":1,"gr_id":null,"rejection_date":null,"mortgage_valuation_booked":null,"mortgage_valuation_completed":null,"mortgage_offer_received":null,"agreement_in_principle_filename":"loan_agreement.pdf","agreement_in_principle_uploaded":null,"spo_id":null,"assume_loan_request_uploaded":null,"assume_loan_offer_uploaded":null,"loan_request_pending_for_completion":false,"loan_request_pending_for_validation":null,"loan_request_pending_for_submission":null,"loan_request_pending_for_upload":"2018-10-10 00:00:00+00","loan_request_pending_for_bank_validation":"2018-10-10 00:00:00+00","loan_request_pending_for_bank_proposal":"2018-10-10 00:00:00+00","loan_offer_pending_for_upload":"2018-11-12 00:00:00+00","loan_offer_pending":"2018-11-12 00:00:00+00","loan_offer_pending_for_insurance":null,"loan_offer_pending_for_client_validation":"2018-11-12 00:00:00+00","loan_offer_is_expired":null,"loan_offer_pending_without_expiration":"2018-11-12 00:00:00+00","loan_offer_pending_with_expiration":"2018-11-12 00:00:00+00","expiration_date_missing":true,"has_expired":false,"pending":true}],"countersigners":[{"idd":41,"uid":1367898631,"iddst":3,"docusign_embedded":null,"idln":null,"idnt":null,"signed_attempt":null,"signed_date":"2018-03-01 00:00:00+00","signer_order":2,"needs_to_sign":true,"uses_proxy":null,"proxy_firstname":null,"proxy_lastname":null,"proxy_email":null,"proxy_phone":null,"proxy_address":null,"proxy_country":null,"iddu":2001,"docusign_send_email_when_embedded":null}],"document_data":[],"document_info":{"idpud":1001,"idd":1533565363,"caption":"Contrat de r\xE9servation","added_date":"2020-01-10 00:00:00+00","idsdt":1,"idst":2,"docusign_envelope":null,"signature_started":"2018-02-01 00:00:00+00","static_document_filename":"other_document_static_filename.pdf","signed_document_filename":"other_document_signed_filename.pdf","signed_document_uploaded":"2018-03-01 00:00:00+00","custom_attachment_filename":null,"iddm":null,"idw":null,"idcgt":2,"user_form_fully_answered":null,"draft_validation":null,"for_all_users":true,"tmp_s3_static_migration_done":false,"tmp_is_contract":false,"idpuds":21,"caption_section":"fake document section","partially_signed":true,"electronic_signature_may_be_started":true,"notification_allowed":true,"user_form_not_completed":true,"validity_started":"2020-01-10 00:00:00+00","validity_expired":null,"include_crm":null,"signature_can_be_started_since":"2020-01-10 00:00:00+00","is_signed":"2018-03-01 00:00:00+00","user_form_can_be_answered":false,"idpu":2002,"idl":null,"idfc":null,"purchase_cancelled_date":null,"number_of_countersigners_purchase":null,"number_of_countersigners":null,"purchase_lot":2002,"idp":301,"wid":2001,"sign_notify_forbidden":false,"draft_validation_needed":null,"purchase_section":21,"model_caption":null,"idqt":null,"mandate_exclusive":null,"idmr":null,"is_purchase_contract":true,"first_group_should_sign":false,"second_group_should_sign":false,"first_group_signed_date":"2018-02-01 00:00:00+00","second_group_signed_date":"2018-03-01 00:00:00+00","first_group_embedded_signed_attempt":null,"first_group_embedded_signed_date":null,"first_group_some_docusign_embedded":null,"first_group_remote_signed_date":null,"first_group_some_docusign_remote":null,"first_group_paper_signed_date":null,"first_group_notices_sent":null,"first_group_notices_received":null,"first_group_notified_with_errors":false,"first_group_electronic_notices_viewed":null,"first_group_last_notice_voided":null,"first_group_one_has_electronic_notice":null,"first_group_one_has_notice":false,"first_group_one_has_no_notice":false,"second_group_signed_attempt":null,"second_group_max_signer_uid":601,"second_group_some_needs_to_sign":true,"doc_paper_must_be_countersign":null,"doc_elec_must_be_countersign":null,"doc_elec_second_group_sign_processed":null,"developer_should_sign":true,"doc_questionnaire_not_answered":null,"docusign_envelope_expiring_soon":null,"docs_elec_signed":"2018-03-01 00:00:00+00"},"additional_clauses":[],"options":{"TEST_LOT_OPTION":{"md_name":"TEST_LOT_OPTION","price":"0.000","plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option","display_order":0,"idlo":1871712907,"selected_count":1,"start_date":"2020-10-10","end_date":"2028-10-10"}},"all_options_by_name":{"TEST_LOT_OPTION":{"md_name":"TEST_LOT_OPTION","price":"0.000","plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option","display_order":0,"idlo":1871712907,"selected_count":1,"start_date":"2020-10-10","end_date":"2028-10-10"},"TEST_LOT_OPTION_2":{"md_name":"TEST_LOT_OPTION_2","price":null,"plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option 2","display_order":0,"idlo":1392012524,"selected_count":0,"start_date":null,"end_date":null}},"all_options":[{"md_name":"TEST_LOT_OPTION","price":"0.000","plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option","display_order":0,"idlo":1871712907,"selected_count":1,"start_date":"2020-10-10","end_date":"2028-10-10"},{"md_name":"TEST_LOT_OPTION_2","price":null,"plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option 2","display_order":0,"idlo":1392012524,"selected_count":0,"start_date":null,"end_date":null}],"discounts":{"TEST_LOT_OPTION":{"md_name":"TEST_LOT_OPTION","price":"0.000","plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option","display_order":0,"idlo":1871712907,"selected_count":1,"start_date":"2020-10-10","end_date":"2028-10-10"}},"buyers_count":1,"weddings":[],"payments":[{"amount":50000,"payment_date":"2020-01-01 00:00:00+00:00"}],"payment_schedule_steps":[{"label":"Signature du contrat de r\xE9servation","due_date":"2018-02-01 00:00:00+00:00","previsional_date":null,"idpss":"DEPOSIT","percent_after":null,"amount_after":1000,"percent":0,"percent_complement":null,"is_paid":true,"price":"1000","call_date":null,"step_due_date":null},{"label":"Etape 1","due_date":null,"previsional_date":"2020-10-22","idpss":"365262119","percent_after":"40","amount_after":null,"percent":40,"percent_complement":1000,"is_paid":false,"price":"95000","call_date":null,"step_due_date":null},{"label":"Etape 2","due_date":null,"previsional_date":"2020-12-23","idpss":"816059452","percent_after":"100","amount_after":null,"percent":60,"percent_complement":null,"is_paid":false,"price":"144000","call_date":null,"step_due_date":null}],"fund_call":[],"origins":[],"all_origins":[{"origin_medium_id":2099334293,"medium":"Autres","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1043664473,"medium":"Base de donn\xE9es","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":2107142622,"medium":"Bouche \xE0 oreille","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":301094326,"medium":"Bulle de vente","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":292386834,"medium":"Emailing","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":292386834,"medium":"Emailing","origin_source_id":798037801,"source":"Campagne","origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":798037801,"medium":"Lignage","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":798037801,"medium":"Lignage","origin_source_id":533998763,"source":"Test API Lignage","origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1424829793,"medium":"Panneaux","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1644703828,"medium":"Parrainage","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1488736195,"medium":"Prescription","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":365262119,"medium":"Presse","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":928789421,"medium":"R\xE9seaux sociaux","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1844866020,"medium":"SMS","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1844866020,"medium":"SMS","origin_source_id":1330073214,"source":"Campagne","origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1013977410,"medium":"Salons - Ev\xE8nements","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":854406808,"medium":"Site vitrine","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":854406808,"medium":"Site vitrine","origin_source_id":413822670,"source":"Test API Site vitrine","origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":816059452,"medium":"Tracts","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":2055958251,"medium":"T\xE9l\xE9phone","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null}],"all_channels":[],"purchase_currency":{"idc":292386834,"iso_code":"EUR","name":"Euro","rate":1,"last_rate_update":"2021-08-12T00:00:00+00:00"},"locales":[{"value":1,"caption":"Anglais"},{"value":2,"caption":"Fran\xE7ais"},{"value":3,"caption":"Espagnol"},{"value":4,"caption":"Portugais (Portugal)"},{"value":5,"caption":"N\xE9erlandais (Belgique)"},{"value":6,"caption":"Fran\xE7ais (Belgique)"},{"value":7,"caption":"Fran\xE7ais (Luxembourg)"},{"value":8,"caption":"Anglais (Australie)"},{"value":9,"caption":"Catalan"},{"value":10,"caption":"Anglais (Afrique du Sud)"}],"enquiries":[],"purchase_custom_fields":[],"rental_period":null,"rent_initial_charges":[],"buyer_sru":{"nom":"Dupont","prenom":null,"prenom_2":null,"prenom_3":null,"prenom_4":null,"email":"contact@gmail.org","uses_email_of":null,"tel_fixe":null,"tel_portable":null,"adresse":null,"ville":null,"codepostal":null,"city_insee_code":null,"province":null,"state":null,"district":null,"country":null,"country_state":null,"nationality":null,"sex":0,"idslg":2,"job":null,"birthdate":null,"birthplace":null,"birth_zip_code":null,"birth_insee_code":null,"birth_country":null,"partner_prenom":null,"partner_nom":null,"wedding":null,"maiden_name":null,"title":null,"other_title":null,"idct":null,"mass_mailing_accepted":null,"mass_sms_accepted":null,"enable_outlook_conversations_sync":true,"price_share":null,"has_company":true,"identity_proof_filename":null,"identity_proof_uploaded":null,"rib_filename":null,"tax_notice_filename":null,"use_tax_notice_of":null,"tax_notice_uploaded":null,"proxy_country":null,"union_foxnot_id":null,"identity_foxnot_id":null,"identity_proof_foxnot_id":null,"marital_status_foxnot_id":null,"sub_grimmo_tiers_id":null,"proof_of_address_filename":null,"user_order":1,"documents_consult_date":null,"purchases_users_id":1000001,"claim_uid":null,"idd":41,"uid":1726559422,"iddst":1,"docusign_embedded":null,"idln":null,"idnt":null,"signed_attempt":null,"signed_date":"2018-02-01 00:00:00+00","signer_order":1,"needs_to_sign":true,"uses_proxy":null,"proxy_firstname":null,"proxy_lastname":null,"proxy_email":null,"proxy_phone":null,"proxy_address":null,"iddu":2002,"docusign_send_email_when_embedded":null,"idpu":1612518488,"idc":292386834,"is_logged_user":null,"title_caption":null,"custom_data":"{}","has_notary":true,"notary_name":"Mr Notaire","notary_phone":"0123456","notary_address":"6 avenue de la Boetie","notary_city":"Paris","notary_zip":null,"notary_email":"notaire@paris.fr","company_name":"Dupont company","company_share_capital":"888888.00","company_corporate_form":"SARL","idccf":2,"siret":"789456123","company_address":"9 boulevard Gouvion Saint Cyr","company_city":"Paris","company_zip":"75019","company_country":78,"company_province":null,"company_district":null,"company_state":null,"company_country_label":"FRANCE","company_registration_number":null,"company_registration_city":null,"company_kbis_filename":null,"country_label":null,"idoc":null,"checked_manually":false,"check_started":null,"check_sent_by_email":null,"check_pending":false,"check_completed":null,"check_withdrawn":null,"check_failed":null,"check_inconsistent_data":null,"email_check_can_be_resend":null,"check_can_be_restarted":null,"onfido_id":null,"last_onfido_report_idoc":null,"idwk":null,"idw":null,"locale_code_language":"fr_FR","has_buyer_partner":false,"full_name":"Dupont","src_photo":"/user-photo/1726559422/"}}'),ze=JSON.parse('{"idpu":1612518488,"idl":1612518488,"idps":365262119,"row_created_date":"2020-10-23 08:34:03.315484+00","bill_date":null,"rdv_date":null,"cancelled_date":null,"lot_price":"200000.000","vat":"0.2000","deposit_amount":"1000.00","deposit_wire":null,"sales_certificate_filename":null,"idpo":null,"custom_data":{"TEST":"test"},"seller":null,"legacy_commercial_gesture":null,"rdv_created":null,"bill_filename":null,"bill_uploaded":null,"buyers_documents_reviewed_date":null,"assume_tax_notice_uploaded":null,"assume_bill_uploaded":null,"assume_identity_proof_uploaded":null,"other_documents_filename":null,"deposit_proof_filename":null,"deposit_cheque":null,"buyers_contribution":null,"buyers_annual_income":null,"deposit_percent":null,"deposit_at_signature":null,"loan_application_delay":null,"loan_offer_delay":null,"bill_deadline":null,"assume_loan_offer_uploaded":null,"bill_paid_date":null,"rdv_prepared":null,"last_notified_expiration":null,"external_id":null,"deposit_confirmed":null,"iddm":null,"assume_loan_request_uploaded":null,"last_webhook_status":20,"wid":2001,"lead_budget":null,"interest_confirmed_date":null,"electronic_notification_accepted":null,"lot_assignment_date":"2018-01-01 00:00:00+00","claimed_lead_confirmed":null,"is_suspect_since":null,"building_permit_request_uploaded":null,"building_permit_request_filename":null,"building_permit_uploaded":null,"building_permit_filename":null,"idcps":null,"claimed_lead_rejected":null,"claimed_lead_rejected_reason":null,"ddt_transmission":null,"option_exercised":null,"tmp_contract_s3_migration":false,"lot_option_expires":null,"signature_funds_deposited":null,"enable_ht_fund_calls":false,"idtm":null,"intent_to_waive_requested":null,"intent_to_waive_date":null,"deposit_wire_requested":null,"proxy_notary_model_sent":null,"proxy_notary_model_received":null,"proxy_notary_model_signed":null,"plot_vat":null,"plot_lot_price":null,"foxnot_id":null,"genapi_id":null,"seller_foxnot_id":null,"union_seller_foxnot_id":null,"foxnot_invalid_since":null,"foxnot_valid_since":null,"foxnot_error":null,"invalid_cache":false,"add_purchase_passed":null,"deposit_confirmed_filled_date":null,"lock_date":null,"extra_work_planned":false,"idacr":null,"has_broker":false,"agimmo_id":null,"pre_delivered":null,"delivered":null,"ppm_id":null,"lf_id":null,"gr_id":null,"gr_idps":null,"ax_id":null,"ax_idps":null,"lz_id":null,"lz_idps":null,"lz_prevent_sync":false,"mki_id":null,"md_id":null,"min_desired_delivery_date":null,"max_desired_delivery_date":null,"idoa_living_area":null,"is_claimed_lead":false,"nb_rooms_desired":null,"deposit_bank":null,"deposit_ref":null,"created":"2018-01-01 00:00:00+00","grimmo_tiers_id":null,"lf_idps":null,"spo_id":null,"uses_only_documents":false,"has_htb_enabled":null,"atp_application_date":null,"atp_reception_date":null,"ate_request_date":null,"ate_reception_date":null,"searches_application_date":null,"searches_reception_date":null,"lead_id":null,"is_draft":false,"legal_pack_send_date":null,"reservation_fee_amount":null,"reservation_fee_percent":null,"reservation_fee_confirmed":null,"remaining_balance_received":null,"project_name":null,"kyc_verification":null,"first_occupation_permit":null,"availability_of_funds":null,"exchanged_date":null,"option_exercised_request":null,"option_exercised_appointment":null,"option_exercise_letter_filename":null,"option_exercise_deed_uploaded":null,"option_exercise_deed_filename":null,"option_exercise_attestation_uploaded":null,"option_exercise_attestation_filename":null,"custom_fields":[],"spo_sync":null,"need_loan":false,"option_prolonged":false,"prolonged_by":null,"fund_call_comment":null,"sales_certificates_updated":null,"fee_vat":null,"fee_lot_price":null,"option_total_raw_stock_price":null,"option_total_stock_price":null,"financial_attestation_uploaded":null,"lu_vat_not_reduced":null,"proof_of_fund_verification_date":null,"commission_fee_used":null,"lease_start_date":null,"lease_end_date":null,"lease_billing_day_of_month":null,"lot_rent_price":null,"secondary_lots_rent_price":null,"first_rent_amount":null,"idp":1426021430,"program_caption":"program 1","program_city":"Puteaux","activate_sru_steps":true,"activate_notification_bill":true,"billable_date":null,"suppose_loans_granted":false,"funding_wait_duration":null,"uses_billable_date":false,"uses_re_resale":false,"identity_check_enabled":false,"proof_of_address_check_enabled":false,"uses_sales_contract":false,"uses_uk_loan_tasks":false,"contract_preparation_time":null,"lot_number":"program 1 lot 2","buyers":[{"nom":"Dupont","prenom":null,"prenom_2":null,"prenom_3":null,"prenom_4":null,"email":"contact@gmail.org","uses_email_of":null,"tel_fixe":null,"tel_portable":null,"adresse":null,"ville":null,"codepostal":null,"city_insee_code":null,"province":null,"state":null,"district":null,"country":null,"country_state":null,"nationality":null,"sex":0,"idslg":2,"job":null,"birthdate":null,"birthplace":null,"birth_zip_code":null,"birth_insee_code":null,"birth_country":null,"partner_prenom":null,"partner_nom":null,"wedding":null,"maiden_name":null,"title":null,"other_title":null,"idct":null,"mass_mailing_accepted":null,"mass_sms_accepted":null,"enable_outlook_conversations_sync":true,"price_share":null,"has_company":true,"identity_proof_filename":null,"identity_proof_uploaded":null,"rib_filename":null,"tax_notice_filename":null,"use_tax_notice_of":null,"tax_notice_uploaded":null,"proxy_country":null,"union_foxnot_id":null,"identity_foxnot_id":null,"identity_proof_foxnot_id":null,"marital_status_foxnot_id":null,"sub_grimmo_tiers_id":null,"proof_of_address_filename":null,"user_order":1,"documents_consult_date":null,"purchases_users_id":1000001,"claim_uid":null,"idd":45,"uid":1726559422,"iddst":1,"docusign_embedded":null,"idln":45,"idnt":null,"signed_attempt":null,"signed_date":"2018-03-01 00:00:00+00","signer_order":1,"needs_to_sign":false,"uses_proxy":null,"proxy_firstname":null,"proxy_lastname":null,"proxy_email":null,"proxy_phone":null,"proxy_address":null,"iddu":2008,"docusign_send_email_when_embedded":null,"idpu":1612518488,"idc":292386834,"is_logged_user":null,"title_caption":null,"custom_data":"{}","has_notary":true,"notary_name":"Mr Notaire","notary_phone":"0123456","notary_address":"6 avenue de la Boetie","notary_city":"Paris","notary_zip":null,"notary_email":"notaire@paris.fr","company_name":"Dupont company","company_share_capital":"888888.00","company_corporate_form":"SARL","idccf":2,"siret":"789456123","company_address":"9 boulevard Gouvion Saint Cyr","company_city":"Paris","company_zip":"75019","company_country":78,"company_province":null,"company_district":null,"company_state":null,"company_country_label":"FRANCE","company_registration_number":null,"company_registration_city":null,"company_kbis_filename":null,"country_label":null,"idoc":null,"checked_manually":false,"check_started":null,"check_sent_by_email":null,"check_pending":false,"check_completed":null,"check_withdrawn":null,"check_failed":null,"check_inconsistent_data":null,"email_check_can_be_resend":null,"check_can_be_restarted":null,"onfido_id":null,"last_onfido_report_idoc":null,"idwk":null,"idw":null,"locale_code_language":"fr_FR","has_buyer_partner":false,"full_name":"Dupont","src_photo":"/user-photo/1726559422/"}],"reservation_date":"2018-03-01 00:00:00+00","sru_delay_ended":null,"contract_added_date":"2020-01-10 00:00:00+00","second_group_signed_date":"2018-03-01 00:00:00+00","second_group_max_signer_uid":601,"second_group_signed_attempt":null,"user_form_fully_answered":null,"docusign_envelope":null,"signature_started":"2018-02-01 00:00:00+00","custom_attachment_filename":null,"first_group_signed_date":"2018-02-01 00:00:00+00","static_contract_filename":"other_document_static_filename.pdf","signed_contract_filename":"other_document_signed_filename.pdf","last_contract_notice_voided":null,"all_contract_notices_sent":null,"all_contract_notices_received":null,"one_contract_notified_with_errors":false,"all_electronic_contract_notices_viewed":null,"has_electronic_contract_notice":null,"has_no_contract_notice":false,"contract_idst":2,"contract_idcgt":2,"contract_idd":1533565363,"sales_contract_added_date":null,"sales_contract_signed_date":null,"precontract_information_notice_sent_date":null,"contract_iddm":21,"pre_contract_iddm":null,"sales_contract_iddm":null,"belgium":false,"pre_contract_signed_date":null,"all_bill_notices_sent":null,"all_bill_notices_received":null,"option_requested_date":null,"tax_notice_required":false,"has_loan_condition":true,"all_identity_proofs_uploaded":null,"all_tax_notices_uploaded":null,"deposit_amount_or_percent":"amount","reservation_fee_amount_or_percent":null,"true_total_paid":"50000.000","use_prices_excluding_vat":false,"has_notary":true,"is_web_lead":false,"web_activities_processed":null,"web_activity_to_process_since":null,"one_loan_request_pending_for_completion":false,"one_loan_request_pending_for_validation":null,"one_loan_request_pending_for_submission":null,"one_loan_request_pending_for_upload":"2018-10-10 00:00:00+00","one_loan_request_pending_for_bank_validation":"2018-10-10 00:00:00+00","one_loan_request_pending_for_bank_proposal":"2018-10-10 00:00:00+00","one_loan_offer_pending":"2018-11-12 00:00:00+00","one_loan_offer_pending_for_insurance":null,"one_loan_offer_pending_for_client_validation":null,"one_loan_offer_pending_for_upload":"2018-11-12 00:00:00+00","one_loan_offer_is_expired":null,"one_mortgage_valuation_booked":null,"one_mortgage_valuation_completed":null,"one_mortgage_offer_received":null,"all_loan_requests_completed":"2018-10-10 00:00:00+00","all_loan_requests_validated":null,"all_loan_requests_submitted":null,"all_loan_requests_uploaded":"2018-11-12 00:00:00+00","all_loan_requests_pre_accepted":"2018-11-12 00:00:00+00","all_loan_offers_obtained":"2018-11-12 00:00:00+00","all_loan_offers_uploaded":null,"all_insurances_obtained":null,"all_loan_offers_accepted":null,"docs_first_group_embedded_signed_date":null,"docs_first_group_remote_signed_date":null,"docs_first_group_paper_signed_date":null,"docs_first_group_signed_date":null,"some_doc_signature_can_be_started_since":"2020-01-10 00:00:00+00","some_doc_signature_started_embedded":null,"some_doc_signature_started_remote":null,"some_doc_paper_signature_started":null,"docs_signature_started":null,"some_doc_buyer_docusign_remote":null,"some_doc_buyer_docusign_embedded":null,"some_elec_doc_must_be_developer_signed":null,"some_elec_doc_developer_sign_processed":null,"docs_elec_developer_sign_processed":null,"docs_elec_developer_signed":"2018-03-01 00:00:00+00","some_doc_questionnaire_not_answered":null,"docs_questionnaires_answered":null,"docs_paper_developer_signed":null,"some_paper_doc_must_be_developer_signed":null,"docs_first_group_embedded_signed_attempt":null,"docs_signed_uploaded":null,"some_doc_need_draft_validation":null,"docs_draft_validated":null,"docs_developer_signed":"2018-03-01 00:00:00+00","first_doc_added_date":"2020-01-10 00:00:00+00","some_docusign_envelope_expiring_soon":null,"all_docs_elec_signed":null,"exchange_date_target":null,"all_check_completed":null,"all_check_started":null,"one_check_failed":null,"one_check_inconsistent":null,"all_enquiries_raised_date":null,"all_enquiries_answered_date":null,"some_enquiries_raised_date":null,"retraction_possible_until":null,"contract_started":null,"in_sru":null,"rdv_incoming":null,"purchase_objective":null,"scheduled_delivery":null,"delivery_date":"2018-01-01","buyers_signed_mail_copy_to_seller":true,"extra_info_yaml_idqt":null,"enable_extra_work_planned":false,"np_code":null,"idbl":1,"payment_schedule":null,"status_since":"2018-03-01 00:00:00+00","status":20,"status_caption":"R\xE9serv\xE9","status_color":"#307ce3","default_max_option_expiration_date":"2018-01-02 00:00:00+00","default_plot_vat":null,"cancelled_reason_caption":null,"refusal_reason":null,"uses_plot_prices":false,"default_vat":"0.2000","uses_fee_prices":false,"default_fee_vat":null,"financial_attestation_validated":null,"total_price":240000,"total_stock_price":300000,"total_stock_price_excluding_vat":250000,"total_raw_price":200000,"total_price_minus_delivery":240000,"options_at_delivery_price":0,"total_options":0,"total_options_excluding_vat":0,"total_construction_excluding_vat":200000,"total_plot_excluding_vat":null,"total_fee_excluding_vat":null,"total_construction_including_vat":240000,"total_plot_including_vat":null,"total_fee_including_vat":null,"deposit":"1000.00","is_admin":false,"company_types":[{"idct":1,"caption":"Sole proprietorship","country_id":182},{"idct":2,"caption":"Private company limited by shares","country_id":182},{"idct":3,"caption":"Private company limited by guarantee","country_id":182},{"idct":4,"caption":"General partnership","country_id":182},{"idct":5,"caption":"LLP - Limited Liability Partnership","country_id":182},{"idct":6,"caption":"SLP - Scottish limited partnership","country_id":182},{"idct":7,"caption":"LP - Limited partnership","country_id":182},{"idct":8,"caption":"Public Limited Company","country_id":182},{"idct":9,"caption":"Unlimited company","country_id":182},{"idct":10,"caption":"CIO - Charitable Incorporated Organisation","country_id":182},{"idct":11,"caption":"CIC - Community Interest Company","country_id":182},{"idct":12,"caption":"Sole trader","country_id":16},{"idct":13,"caption":"LLP - Limited Liability Partnership","country_id":16},{"idct":14,"caption":"ILP - Incorporated Limited Partnership","country_id":16},{"idct":15,"caption":"Inc. - Incorporation","country_id":16},{"idct":16,"caption":"Ltd. - Limited company","country_id":16},{"idct":17,"caption":"Pty. - Proprietary company","country_id":16},{"idct":18,"caption":"Pty. Ltd. - Proprietary Limited company","country_id":16},{"idct":19,"caption":"NL - No Liability company","country_id":16},{"idct":20,"caption":"Trust","country_id":16},{"idct":21,"caption":"Indigenous Corporation","country_id":16}],"titles":[{"idt":0,"caption":"Autre","country_id":182,"sex":null},{"idt":1,"caption":"M.","country_id":182,"sex":1},{"idt":2,"caption":"Mme.","country_id":182,"sex":2},{"idt":3,"caption":"Miss","country_id":182,"sex":2},{"idt":4,"caption":"Madame","country_id":182,"sex":2},{"idt":5,"caption":"Dr.","country_id":182,"sex":null},{"idt":6,"caption":"Autre","country_id":16,"sex":null},{"idt":7,"caption":"M.","country_id":16,"sex":1},{"idt":8,"caption":"Mme.","country_id":16,"sex":2},{"idt":9,"caption":"Miss","country_id":16,"sex":2},{"idt":10,"caption":"Madame","country_id":16,"sex":2},{"idt":11,"caption":"Dr.","country_id":16,"sex":null}],"foxnot_errors":null,"owners":null,"developer":{"wid":1528263624,"label":"Developer 1","enable_new_origins":true},"idoa_desired_areas":[],"external_signatory":[],"incoming_appointments":[],"programs":[],"crm_channels":[],"seller_email":null,"tax_measures":[{"idtm":13,"title":"D\xE9membrement/ Nue-propri\xE9t\xE9"},{"idtm":15,"title":"Zone ANRU"},{"idtm":17,"title":"Prix maitris\xE9"},{"idtm":18,"title":"ACCESSION"},{"idtm":21,"title":"VIR"},{"idtm":22,"title":"Droit Commun"},{"idtm":5,"title":"TVA REDUITE"},{"idtm":16,"title":"PLS"},{"idtm":6,"title":"TVA 5.5"},{"idtm":7,"title":"TVA 7"},{"idtm":9,"title":"PTZ+"},{"idtm":12,"title":"PSLA"},{"idtm":24,"title":"BRS"},{"idtm":1,"title":"L.M.P."},{"idtm":2,"title":"L.M.N.P."},{"idtm":3,"title":"DEMESSINE (Z.R.R.)"},{"idtm":4,"title":"LOI GIRARDIN"},{"idtm":8,"title":"LOI BOUVARD"},{"idtm":10,"title":"LOI DUFLOT"},{"idtm":11,"title":"LOI PINEL"},{"idtm":19,"title":"LOI MALRAUX"},{"idtm":20,"title":"PINEL ANCIEN "},{"idtm":23,"title":"PINEL +"}],"corporate_forms":[{"idccf":8,"code":"ACT","caption":"ACT - Autre Collectivit\xE9 Territoriale"},{"idccf":7,"code":"AD","caption":"AD - Association D\xE9clar\xE9e"},{"idccf":6,"code":"EURL","caption":"EURL - Entreprise Unipersonnelle \xE0 Responsabilit\xE9 Limit\xE9e"},{"idccf":13,"code":"GIE","caption":"GIE - Groupement d Int\xE9r\xEAt Economique"},{"idccf":5,"code":"SA","caption":"SA - Soci\xE9t\xE9 Anonyme"},{"idccf":2,"code":"SARL","caption":"SARL - Soci\xE9t\xE9 \xE0 Responsabilit\xE9 Limit\xE9e"},{"idccf":3,"code":"SAS","caption":"SAS - Soci\xE9t\xE9 par Actions Simplifi\xE9e"},{"idccf":4,"code":"SASU","caption":"SASU - Soci\xE9t\xE9 par Actions Simplifi\xE9e Unipersonnelle"},{"idccf":15,"code":"SCCV","caption":"SCCV - Soci\xE9t\xE9 Civile de Construction Vente"},{"idccf":1,"code":"SCI","caption":"SCI - Soci\xE9t\xE9 Civile Immobili\xE8re"},{"idccf":10,"code":"SDC","caption":"SDC - Syndicat De Copropri\xE9t\xE9"},{"idccf":12,"code":"SEM","caption":"SEM - Soci\xE9t\xE9 d Economie Mixte"},{"idccf":11,"code":"SEP","caption":"SEP - Soci\xE9t\xE9 En Participation"},{"idccf":9,"code":"SNC","caption":"SNC - Soci\xE9t\xE9 en Nom Collectif"},{"idccf":14,"code":"other","caption":"Autre"}],"guarantee_types":[{"value":1,"label":"Cautionnement"},{"value":2,"label":"Hypoth\xE8que"},{"value":3,"label":"Privil\xE8ge de pr\xEAteur de deniers"},{"value":4,"label":"Nantissement"}],"program":{"caption":"program 1","city":"Puteaux","postal_code":null,"address":"1 rue de la r\xE9publique","iban":null,"delivery_date":"2018-01-01","scheduled_delivery":null,"sru_iddot":null,"cover_letter_iddot":null,"uses_other_buyers_email":false,"uses_unique_phone_number":false,"uses_re_resale":false,"idpays":null,"custom_data":{"TEST":"test"},"flag":null,"contract_preparation_time":null,"wid":1528263624,"idslg":2,"bill_deadline":null,"uses_bill_deadline":false,"loan_application_delay":null,"uses_loan_application_delay":false,"loan_offer_delay":null,"uses_loan_offer_delay":false,"documents_timezone":"Europe/Paris","custom_roles":{"charge_clientele":[{"lastname":"Took","firstname":"Peregrin","email":"pippin@shire.lotr","phone":"0123456789","mobilePhone":"06123456789","adresse":null,"ville":null,"code_postal":null,"pays":null},{"lastname":"Robichet","firstname":"Robert","email":"robert.robichet@getunlatch.com","phone":"0123456789","mobilePhone":"0612345678","adresse":null,"ville":null,"code_postal":null,"pays":null}],"simple_role":{"lastname":"Robichet","firstname":"Robert","email":"robert.robichet@getunlatch.com","phone":"0123456789","mobilePhone":"0612345678","adresse":null,"ville":null,"code_postal":null,"pays":null}}},"default_phone_prefix":"FR","lot":{"idp":301,"lot_number":"program 1 lot 2","surface":"54.00","stock_price":"250000.000","external_id":null,"lot_type":"B1","lot_floor":"A2","externally_locked":false,"lot_building":"program 1 lot 2 building","contractual_exposure":null,"number_of_rooms":3,"legal_number":null,"minimum_price":null,"wid":2001,"idpt":1,"common_part_quota":null,"plot_quota":null,"plot_stock_price":null,"minimum_plot_price":null,"fee_stock_price":null,"minimum_fee_price":null,"exclude_from_ads":false,"questionnaire_answered":null,"custom_data":null,"lock_date":null,"ownership_title_filename":null,"bank_details_filename":null,"tax_filename":null,"plans_filename":null,"diagnosis_filename":null,"signed_attempt":null,"ownership_title_added":null,"bank_details_added":null,"tax_added":null,"plans_added":null,"diagnosis_added":null,"mandate_filename":null,"ppm_id":null,"lf_id":null,"lf_is_option_confirmed":null,"lf_token_email":null,"gr_id":null,"ax_id":null,"lz_id":null,"mki_id":null,"md_id":null,"exclude_from_agimmo":false,"lot_floor_index":null,"delivery_date":null,"address":null,"city":null,"postal_code":null,"idpays":null,"comment":null,"added":"2018-01-01 00:00:00+00","spo_id":null,"id_ad_ubi_fr":null,"id_ad_ubi_eu":null,"gr_tranche_id":null,"sap_rating":null,"built_area":null,"bathroom_number":null,"bedroom_number":null,"dpe_power_consumption_score":null,"dpe_power_consumption":null,"dpe_greenhouse_gas_emissions":null,"exposure":null,"designation":null,"idl":1612518488,"register_num":null,"surfaces":[]},"secondary_lots":[],"loan_conditions":[{"idpu":2002,"amount":"250000.00","max_rate":"2.00","bank":null,"offer_uploaded":null,"offer_date":"2018-11-12","offer_filename":null,"insurance_offer_date":null,"year_duration":null,"idplc":1871712907,"request_date":"2018-10-10 00:00:00+00","request_uploaded":null,"request_filename":null,"offer_accepted":null,"offer_expiry":null,"idgt":null,"require_insurance":false,"insurance_obtained":null,"external_id":null,"request_completed":null,"request_validated":null,"request_accepted_in_principle":null,"key_element_in_principle_requested":null,"monthly":null,"idlt":1,"gr_id":null,"rejection_date":"2020-10-10 00:00:00+00","mortgage_valuation_booked":null,"mortgage_valuation_completed":null,"mortgage_offer_received":null,"agreement_in_principle_filename":null,"agreement_in_principle_uploaded":null,"spo_id":null,"assume_loan_request_uploaded":null,"assume_loan_offer_uploaded":null,"loan_request_pending_for_completion":false,"loan_request_pending_for_validation":null,"loan_request_pending_for_submission":null,"loan_request_pending_for_upload":"2018-10-10 00:00:00+00","loan_request_pending_for_bank_validation":"2018-10-10 00:00:00+00","loan_request_pending_for_bank_proposal":"2018-10-10 00:00:00+00","loan_offer_pending_for_upload":"2018-11-12 00:00:00+00","loan_offer_pending":"2018-11-12 00:00:00+00","loan_offer_pending_for_insurance":null,"loan_offer_pending_for_client_validation":"2018-11-12 00:00:00+00","loan_offer_is_expired":null,"loan_offer_pending_without_expiration":"2018-11-12 00:00:00+00","loan_offer_pending_with_expiration":"2018-11-12 00:00:00+00","expiration_date_missing":true,"has_expired":false,"pending":true},{"idpu":2002,"amount":"250000.00","max_rate":"2.00","bank":null,"offer_uploaded":null,"offer_date":"2018-11-12","offer_filename":null,"insurance_offer_date":null,"year_duration":null,"idplc":1713320851,"request_date":"2018-10-10 00:00:00+00","request_uploaded":null,"request_filename":"loan_request.pdf","offer_accepted":null,"offer_expiry":null,"idgt":null,"require_insurance":false,"insurance_obtained":null,"external_id":null,"request_completed":null,"request_validated":null,"request_accepted_in_principle":null,"key_element_in_principle_requested":null,"monthly":null,"idlt":1,"gr_id":null,"rejection_date":null,"mortgage_valuation_booked":null,"mortgage_valuation_completed":null,"mortgage_offer_received":null,"agreement_in_principle_filename":"loan_agreement.pdf","agreement_in_principle_uploaded":null,"spo_id":null,"assume_loan_request_uploaded":null,"assume_loan_offer_uploaded":null,"loan_request_pending_for_completion":false,"loan_request_pending_for_validation":null,"loan_request_pending_for_submission":null,"loan_request_pending_for_upload":"2018-10-10 00:00:00+00","loan_request_pending_for_bank_validation":"2018-10-10 00:00:00+00","loan_request_pending_for_bank_proposal":"2018-10-10 00:00:00+00","loan_offer_pending_for_upload":"2018-11-12 00:00:00+00","loan_offer_pending":"2018-11-12 00:00:00+00","loan_offer_pending_for_insurance":null,"loan_offer_pending_for_client_validation":"2018-11-12 00:00:00+00","loan_offer_is_expired":null,"loan_offer_pending_without_expiration":"2018-11-12 00:00:00+00","loan_offer_pending_with_expiration":"2018-11-12 00:00:00+00","expiration_date_missing":true,"has_expired":false,"pending":true}],"countersigners":[{"idd":45,"uid":1367898631,"iddst":3,"docusign_embedded":null,"idln":null,"idnt":null,"signed_attempt":null,"signed_date":"2018-03-01 00:00:00+00","signer_order":2,"needs_to_sign":true,"uses_proxy":null,"proxy_firstname":null,"proxy_lastname":null,"proxy_email":null,"proxy_phone":null,"proxy_address":null,"proxy_country":null,"iddu":2005,"docusign_send_email_when_embedded":null}],"document_data":[],"document_info":{"idpud":1005,"idd":2133874308,"caption":"Appel de fonds (40%, 100%)","added_date":"2020-01-10 00:00:00+00","idsdt":7,"idst":2,"docusign_envelope":null,"signature_started":null,"static_document_filename":null,"signed_document_filename":null,"signed_document_uploaded":"2018-03-01 00:00:00+00","custom_attachment_filename":null,"iddm":21,"idw":null,"idcgt":2,"user_form_fully_answered":null,"draft_validation":null,"for_all_users":true,"tmp_s3_static_migration_done":false,"tmp_is_contract":false,"idpuds":21,"caption_section":"fake document section","partially_signed":true,"electronic_signature_may_be_started":true,"notification_allowed":false,"user_form_not_completed":true,"validity_started":"2020-01-10 00:00:00+00","validity_expired":null,"include_crm":false,"signature_can_be_started_since":null,"is_signed":"2018-03-01 00:00:00+00","user_form_can_be_answered":false,"idpu":2002,"idl":null,"idfc":1,"purchase_cancelled_date":null,"number_of_countersigners_purchase":null,"number_of_countersigners":null,"purchase_lot":2002,"idp":301,"wid":2001,"sign_notify_forbidden":false,"draft_validation_needed":false,"purchase_section":21,"model_caption":"contrat de r\xE9servation","idqt":3,"mandate_exclusive":null,"idmr":null,"is_purchase_contract":false,"first_group_should_sign":false,"second_group_should_sign":false,"first_group_signed_date":null,"second_group_signed_date":"2018-03-01 00:00:00+00","first_group_embedded_signed_attempt":null,"first_group_embedded_signed_date":null,"first_group_some_docusign_embedded":null,"first_group_remote_signed_date":null,"first_group_some_docusign_remote":null,"first_group_paper_signed_date":null,"first_group_notices_sent":"2023-01-01 00:00:00+00","first_group_notices_received":"2023-01-01 00:00:00+00","first_group_notified_with_errors":false,"first_group_electronic_notices_viewed":null,"first_group_last_notice_voided":null,"first_group_one_has_electronic_notice":null,"first_group_one_has_notice":false,"first_group_one_has_no_notice":false,"second_group_signed_attempt":null,"second_group_max_signer_uid":601,"second_group_some_needs_to_sign":true,"doc_paper_must_be_countersign":null,"doc_elec_must_be_countersign":null,"doc_elec_second_group_sign_processed":null,"developer_should_sign":false,"doc_questionnaire_not_answered":null,"docusign_envelope_expiring_soon":null,"docs_elec_signed":"2018-03-01 00:00:00+00"},"additional_clauses":[],"options":{"TEST_LOT_OPTION":{"md_name":"TEST_LOT_OPTION","price":"0.000","plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option","display_order":0,"idlo":1871712907,"selected_count":1,"start_date":"2020-10-10","end_date":"2028-10-10"}},"all_options_by_name":{"TEST_LOT_OPTION":{"md_name":"TEST_LOT_OPTION","price":"0.000","plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option","display_order":0,"idlo":1871712907,"selected_count":1,"start_date":"2020-10-10","end_date":"2028-10-10"},"TEST_LOT_OPTION_2":{"md_name":"TEST_LOT_OPTION_2","price":null,"plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option 2","display_order":0,"idlo":1392012524,"selected_count":0,"start_date":null,"end_date":null}},"all_options":[{"md_name":"TEST_LOT_OPTION","price":"0.000","plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option","display_order":0,"idlo":1871712907,"selected_count":1,"start_date":"2020-10-10","end_date":"2028-10-10"},{"md_name":"TEST_LOT_OPTION_2","price":null,"plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option 2","display_order":0,"idlo":1392012524,"selected_count":0,"start_date":null,"end_date":null}],"discounts":{"TEST_LOT_OPTION":{"md_name":"TEST_LOT_OPTION","price":"0.000","plot_price":null,"fee_price":null,"stock_price":"0.000","plot_stock_price":null,"fee_stock_price":null,"caption":"test lot option","display_order":0,"idlo":1871712907,"selected_count":1,"start_date":"2020-10-10","end_date":"2028-10-10"}},"buyers_count":1,"weddings":[],"payments":[{"amount":50000,"payment_date":"2020-01-01 00:00:00+00:00"}],"payment_schedule_steps":[{"label":"Signature du contrat de r\xE9servation","due_date":"2018-02-01 00:00:00+00:00","previsional_date":null,"idpss":"DEPOSIT","percent_after":null,"amount_after":1000,"percent":0,"percent_complement":null,"is_paid":true,"price":"1000","call_date":null,"step_due_date":null},{"label":"Etape 1","due_date":null,"previsional_date":"2020-10-22","idpss":"365262119","percent_after":"40","amount_after":null,"percent":40,"percent_complement":1000,"is_paid":false,"price":"95000","call_date":null,"step_due_date":null},{"label":"Etape 2","due_date":null,"previsional_date":"2020-12-23","idpss":"816059452","percent_after":"100","amount_after":null,"percent":60,"percent_complement":null,"is_paid":false,"price":"144000","call_date":null,"step_due_date":null}],"fund_call":[{"step_label":"Etape 1","idpss":"365262119","percent_after":"40","amount":95000,"remaining_amount_for_current_step":46000,"percent":40,"due_date":null,"bill_number":null,"remaining_amount":46000},{"step_label":"Etape 2","idpss":"816059452","percent_after":"100","amount":144000,"remaining_amount_for_current_step":144000,"percent":60,"due_date":null,"bill_number":null,"remaining_amount":190000}],"origins":[],"all_origins":[{"origin_medium_id":2099334293,"medium":"Autres","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1043664473,"medium":"Base de donn\xE9es","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":2107142622,"medium":"Bouche \xE0 oreille","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":301094326,"medium":"Bulle de vente","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":292386834,"medium":"Emailing","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":292386834,"medium":"Emailing","origin_source_id":798037801,"source":"Campagne","origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":798037801,"medium":"Lignage","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":798037801,"medium":"Lignage","origin_source_id":533998763,"source":"Test API Lignage","origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1424829793,"medium":"Panneaux","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1644703828,"medium":"Parrainage","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1488736195,"medium":"Prescription","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":365262119,"medium":"Presse","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":928789421,"medium":"R\xE9seaux sociaux","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1844866020,"medium":"SMS","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1844866020,"medium":"SMS","origin_source_id":1330073214,"source":"Campagne","origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":1013977410,"medium":"Salons - Ev\xE8nements","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":854406808,"medium":"Site vitrine","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":854406808,"medium":"Site vitrine","origin_source_id":413822670,"source":"Test API Site vitrine","origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":816059452,"medium":"Tracts","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null},{"origin_medium_id":2055958251,"medium":"T\xE9l\xE9phone","origin_source_id":null,"source":null,"origin_campaign_id":null,"campaign":null,"whitelabel_label":null}],"all_channels":[],"purchase_currency":{"idc":292386834,"iso_code":"EUR","name":"Euro","rate":1,"last_rate_update":"2021-08-12T00:00:00+00:00"},"locales":[{"value":1,"caption":"Anglais"},{"value":2,"caption":"Fran\xE7ais"},{"value":3,"caption":"Espagnol"},{"value":4,"caption":"Portugais (Portugal)"},{"value":5,"caption":"N\xE9erlandais (Belgique)"},{"value":6,"caption":"Fran\xE7ais (Belgique)"},{"value":7,"caption":"Fran\xE7ais (Luxembourg)"},{"value":8,"caption":"Anglais (Australie)"},{"value":9,"caption":"Catalan"},{"value":10,"caption":"Anglais (Afrique du Sud)"}],"enquiries":[],"purchase_custom_fields":[],"rental_period":null,"rent_initial_charges":[],"buyer_sru":{"nom":"Dupont","prenom":null,"prenom_2":null,"prenom_3":null,"prenom_4":null,"email":"contact@gmail.org","uses_email_of":null,"tel_fixe":null,"tel_portable":null,"adresse":null,"ville":null,"codepostal":null,"city_insee_code":null,"province":null,"state":null,"district":null,"country":null,"country_state":null,"nationality":null,"sex":0,"idslg":2,"job":null,"birthdate":null,"birthplace":null,"birth_zip_code":null,"birth_insee_code":null,"birth_country":null,"partner_prenom":null,"partner_nom":null,"wedding":null,"maiden_name":null,"title":null,"other_title":null,"idct":null,"mass_mailing_accepted":null,"mass_sms_accepted":null,"enable_outlook_conversations_sync":true,"price_share":null,"has_company":true,"identity_proof_filename":null,"identity_proof_uploaded":null,"rib_filename":null,"tax_notice_filename":null,"use_tax_notice_of":null,"tax_notice_uploaded":null,"proxy_country":null,"union_foxnot_id":null,"identity_foxnot_id":null,"identity_proof_foxnot_id":null,"marital_status_foxnot_id":null,"sub_grimmo_tiers_id":null,"proof_of_address_filename":null,"user_order":1,"documents_consult_date":null,"purchases_users_id":1000001,"claim_uid":null,"idd":45,"uid":1726559422,"iddst":1,"docusign_embedded":null,"idln":45,"idnt":null,"signed_attempt":null,"signed_date":"2018-03-01 00:00:00+00","signer_order":1,"needs_to_sign":false,"uses_proxy":null,"proxy_firstname":null,"proxy_lastname":null,"proxy_email":null,"proxy_phone":null,"proxy_address":null,"iddu":2008,"docusign_send_email_when_embedded":null,"idpu":1612518488,"idc":292386834,"is_logged_user":null,"title_caption":null,"custom_data":"{}","has_notary":true,"notary_name":"Mr Notaire","notary_phone":"0123456","notary_address":"6 avenue de la Boetie","notary_city":"Paris","notary_zip":null,"notary_email":"notaire@paris.fr","company_name":"Dupont company","company_share_capital":"888888.00","company_corporate_form":"SARL","idccf":2,"siret":"789456123","company_address":"9 boulevard Gouvion Saint Cyr","company_city":"Paris","company_zip":"75019","company_country":78,"company_province":null,"company_district":null,"company_state":null,"company_country_label":"FRANCE","company_registration_number":null,"company_registration_city":null,"company_kbis_filename":null,"country_label":null,"idoc":null,"checked_manually":false,"check_started":null,"check_sent_by_email":null,"check_pending":false,"check_completed":null,"check_withdrawn":null,"check_failed":null,"check_inconsistent_data":null,"email_check_can_be_resend":null,"check_can_be_restarted":null,"onfido_id":null,"last_onfido_report_idoc":null,"idwk":null,"idw":null,"locale_code_language":"fr_FR","has_buyer_partner":false,"full_name":"Dupont","src_photo":"/user-photo/1726559422/"}}');var hl=a(76895);class se extends m.WebLoader{getSource(e,l=void 0){let o;return this.fetch(this.baseURL+"/"+e,(n,s)=>{if(n)if(l)l(n.content,null);else if(n.status===404)o=null;else throw n.content;else s=JSON.parse(s),o={src:s.content,path:e,noCache:!this.useCache},this.emit("load",e,o),l&&l(null,o)}),o}}var Ze=a(66649),P=(t,e,l)=>new Promise((o,n)=>{var s=_=>{try{d(l.next(_))}catch(c){n(c)}},r=_=>{try{d(l.throw(_))}catch(c){n(c)}},d=_=>_.done?o(_.value):Promise.resolve(_.value).then(s,r);d((l=l.apply(t,e)).next())});const w={fetchWhitelabels(){return P(this,null,function*(){return(yield C.default.get("whitelabels/")).data})},fetchPrograms(){return P(this,null,function*(){return(yield C.default.get("programs/")).data})},fetchDocumentsTypes(){return P(this,null,function*(){return(yield C.default.get("special-document-types/")).data.map(e=>{let l={};return l={caption:(0,Ze.fG)(e.caption),idsdt:e.idsdt,$isDisabled:!1},l})})},fetchDocPickerOptions(t){return P(this,null,function*(){return(yield C.default.get(`${t.toLocaleLowerCase()}/`)).data})},fetchDocSelection(t,e){return P(this,null,function*(){return(yield C.default.post(`/admin/qr/get-${t.toLocaleLowerCase()}/`,e)).data})},fetchDocSelectionByDate(t){return P(this,null,function*(){return(yield C.default.post("/admin/qr/get-files-by-date/",t)).data})},updatePrograms(t){return P(this,null,function*(){return(yield C.default.get("/admin/qr/programs/",{params:{whitelabels:t}})).data})},downloadFiles(t,e){return P(this,null,function*(){yield(0,C.default)({url:"filedownload/",method:"POST",responseType:"blob",data:t}).then(l=>{const o=window.URL.createObjectURL(new Blob([l.data])),n=document.createElement("a");n.href=o,n.setAttribute("download",`${e}.zip`),document.body.appendChild(n),n.click(),n.remove()})})},uploadFiles(t,e,l){return P(this,null,function*(){return(yield C.default.post(`${t}-upload/`,{files:e,commitMsg:l})).data})},fetchInfoFiles(){return P(this,null,function*(){return(yield C.default.get("info-files/")).data})},fetchFilesToEdit(t,e){return P(this,null,function*(){return(yield C.default.post(`${t}-upload-preview/`,e)).data})}};function Qe(t){t=t.filter(function(l){return l!==void 0});const e={};for(const l of t){const o=[];for(let n=0;n<l.length;n++)l[n]==="."&&o.push(n);for(let n=0;n<o.length;n++){const s=l.substr(0,o[n]),r=!isNaN(l[o[n]+1]);if(s in e){if(r&&e[s]==="string"||!r&&e[s]==="number")return s}else r?e[s]="number":e[s]="string"}}return null}var Ye=a(44093),Je=Object.defineProperty,We=Object.defineProperties,Ge=Object.getOwnPropertyDescriptors,_e=Object.getOwnPropertySymbols,Ke=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,re=(t,e,l)=>e in t?Je(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,de=(t,e)=>{for(var l in e||(e={}))Ke.call(e,l)&&re(t,l,e[l]);if(_e)for(var l of _e(e))He.call(e,l)&&re(t,l,e[l]);return t},Xe=(t,e)=>We(t,Ge(e)),O=(t,e,l)=>new Promise((o,n)=>{var s=_=>{try{d(l.next(_))}catch(c){n(c)}},r=_=>{try{d(l.throw(_))}catch(c){n(c)}},d=_=>_.done?o(_.value):Promise.resolve(_.value).then(s,r);d((l=l.apply(t,e)).next())});const el=(0,q.defineComponent)({components:{Ace:me,Document:fe.Z,EditorTab:ye,FileLoader:Oe,Questionnaire:Fe,InfoLockedFiles:$e,Multiselect:le(),DatePicker:Ve()},data(){return{position:4,position_col:1,line_length:0,parentTag:"",lastVersionDocument:"",lastVersionDocumentMD:"",infoFiles:[],data:{is_admin:!0},surveyTemplate:"",documentTemplate:"",questionnairesPath:"/admin/qr/questionnaires",documentsPath:"/admin/qr/documents",downloadAccess:window.qrAccesses.download,uploadAccess:window.qrAccesses.upload,htmlButtonsAction:"uninitialized_action/",dataYamlError:null,questionnaireYamlError:null,questionnaireDefinitionError:null,documentMDError:null,documentError:null,sampleContract:Ue,sampleCoverLetter:Be,sampleFundCall:ze,questionnaireYAML:"",questionnaireDefinition:null,filesToUpload:null,filesToEdit:[],displayDocumentModification:!1,displayModalUploadFiles:!1,displayModalDownloadFilesByCompany:!1,displayModalDownloadFilesByDate:!1,errorUpload:!1,errorUploadText:"",typeOfFileToUpload:"",commitMsg:"",lockAccess:window.qrAccesses.lock,openEditors:(0,j.l4)(),isAdmin:!0,whitelabelsPickerOptions:null,programsPickerOptions:null,documentTypePickerOptions:null,documentExtensionPickerOptions:null,programsSelection:null,companySelection:null,docPickerOptions:null,docSelection:null,mdOrYaml:"Documents",docTypeSelection:null,loadingDownload:!1,loadingModalCompany:!1,loadingModalDate:!1,numberOfFiles:0,documentTypes:[],since_creation:!0}},computed:{questionnaireNunjucks(){const t=new m.Environment(new se(this.questionnairesPath,{useCache:!0}),{autoescape:!1});return(0,N.Ue)(t),t},documentsNunjucks(){const t=new m.Environment(new se(this.documentsPath,{useCache:!0}));return(0,N.Ue)(t),t},csrfToken(){return(0,Ye._)()},dataYAML:{get(){return F.dump(this.data)},set(t){this.dataYamlError=null;try{this.data=F.load(t)}catch(e){this.dataYamlError=e}}},documentMD(){this.documentMDError=null;try{let t=0;const e=this.documentTemplate.split(`
`).map(l=>{if(t++,t===this.position+1){let o=0,n=0,s="";for(let r=this.position_col-1;r>=0;r--)l[r]===">"&&o===0&&(o=2),l[r]==="<"&&o===0&&(o=1);for(let r=this.position_col-1;r<=this.line_length;r++)l[r]==="<"&&n===0&&(n=2),l[r]===">"&&n===0&&(n=1);return o===1&&n===1?s='<span id="cursorPositionScroll"></span>'+l:s=l.slice(0,this.position_col)+'<span id="cursorPositionScroll"></span>'+l.slice(this.position_col),n=0,o=0,s}else return l}).join(`
`);return this.lastVersionDocumentMD=this.documentsNunjucks.renderString(e,this.data),this.lastVersionDocumentMD}catch(t){return this.documentMDError=t,this.lastVersionDocumentMD}},document(){this.documentError=null;try{const t=this.documentMD,e=f()(t),l=$('<div id="htmlNode">'+e+"</div>");return l.find("span#cursorPositionScroll").parent().map(function(){$(this).css("background-color","lightsalmon")}),this.lastVersionDocument=l.html(),l.html()}catch(t){return this.documentError=t,this.lastVersionDocument}},errors(){return[this.dataYamlError,this.questionnaireYamlError,this.questionnaireDefinitionError,this.documentMDError,this.documentError].filter(t=>t!=null).map(t=>""+t)}},mounted(){const t=localStorage.getItem("qr-editor-open-editors");t&&(this.openEditors=(0,j.l4)(JSON.parse(t))),setTimeout(()=>$(window).trigger("resize"),100),this.loadInfoFiles()},methods:{loadInfoFiles(){return O(this,null,function*(){try{this.infoFiles=yield w.fetchInfoFiles()}catch{alert("ERROR")}})},handleFileUpload(t){t.preventDefault(),this.filesToUpload=t.target.files[0]},cancelFileUpload(){this.displayDocumentModification=!1,this.displayModalUploadFiles=!1},cancelFileDownload(){this.displayModalDownloadFilesByCompany=!1,this.displayModalDownloadFilesByDate=!1,this.whitelabelsPickerOptions=null,this.programsPickerOptions=null,this.documentTypePickerOptions=null,this.documentExtensionPickerOptions=null,this.programsSelection=null,this.companySelection=null,this.docPickerOptions=null,this.docSelection=null,this.docTypeSelection=null},loadDownloadByCompany(){return O(this,null,function*(){this.loadingModalCompany=!0;const[t,e,l,o,n]=yield Promise.all([w.fetchWhitelabels(),w.fetchPrograms(),w.fetchDocumentsTypes(),w.fetchDocPickerOptions(this.mdOrYaml),w.fetchDocSelection(this.mdOrYaml)]);this.whitelabelsPickerOptions=[{all:i.ZP.t("generated.select_all"),values:t}],this.programsPickerOptions=[{all:i.ZP.t("generated.select_all"),values:e}],this.documentTypes=l,this.documentTypePickerOptions=[{all:i.ZP.t("generated.select_all"),values:this.documentTypes.concat([{caption:"SRU",idsdt:"SRU",$isDisabled:!1},{caption:"Mail AR24",idsdt:"Mail AR24",$isDisabled:!1},{caption:"CRM",idsdt:"CRM",$isDisabled:!0}])}],this.docPickerOptions=[{all:i.ZP.t("generated.select_all"),values:o}],this.docSelection=n,this.updateFiles(),this.documentExtensionPickerOptions=["Documents","Questionnaires"],this.loadingModalCompany=!1,this.displayModalDownloadFilesByCompany=!0})},loadDownloadByDate(){return O(this,null,function*(){this.loadingModalDate=!0;const[t,e]=yield Promise.all([w.fetchDocPickerOptions(this.mdOrYaml),w.fetchDocSelection(this.mdOrYaml)]);this.docPickerOptions=[{all:i.ZP.t("generated.select_all"),values:t}],this.docSelection=e,this.updateFiles(),this.documentExtensionPickerOptions=["Documents","Questionnaires"],this.loadingModalDate=!1,this.displayModalDownloadFilesByDate=!0})},getFilesByDate(t,e){return O(this,null,function*(){if(t&&e){const l=n=>(Date.parse(n)+36e5)/1e3,o={from:l(t),to:l(e),since:this.since_creation?"Creation":"Modification",mdOrYaml:this.mdOrYaml};w.fetchDocSelectionByDate(o).then(n=>{this.docSelection=n,this.updateFiles()})}else w.fetchDocSelection(this.mdOrYaml).then(l=>{this.docSelection=l,this.updateFiles()})})},getDocPickerOptionsByCompany(){return O(this,null,function*(){const t=this.mdOrYaml==="Questionnaires";w.fetchDocPickerOptions(this.mdOrYaml).then(e=>{this.docPickerOptions=[{all:i.ZP.t("generated.select_all"),values:e}]}),this.documentTypePickerOptions=[{all:i.ZP.t("generated.select_all"),values:this.documentTypes.concat([{caption:"SRU",idsdt:"SRU",$isDisabled:t},{caption:"Mail AR24",idsdt:"Mail AR24",$isDisabled:t},{caption:"CRM",idsdt:"CRM",$isDisabled:!t}])}],this.getFilesByCompany()})},getFilesByCompany(){return O(this,null,function*(){var t;const e={};this.companySelection&&(e.whitelabels=JSON.parse(JSON.stringify(this.companySelection)).map(o=>o.wid).join(",")),this.docTypeSelection&&(e.docTypeModel=JSON.parse(JSON.stringify(this.docTypeSelection)).map(o=>o.idsdt!=="SRU"&&o.idsdt!=="Mail AR24"&&o.idsdt!=="CRM"?o.idsdt:"").filter(o=>o!=="").join(","),e.docTypeProg=JSON.parse(JSON.stringify(this.docTypeSelection)).map(o=>this.mdOrYaml==="Documents"&&(o.idsdt==="SRU"||o.idsdt==="Mail AR24")&&o.idsdt!=="CRM"?o.idsdt:"").filter(o=>o!=="").join(","),e.questionnaire_crm=JSON.parse(JSON.stringify(this.docTypeSelection)).map(o=>this.mdOrYaml==="Questionnaires"&&o.idsdt==="CRM").filter(o=>o===!0).join(",")),this.programsSelection&&(e.programs=JSON.parse(JSON.stringify(this.programsSelection)).map(o=>o.idp).join(","));const l=yield w.fetchDocSelection(this.mdOrYaml,e);this.docSelection=Object.values(l),this.numberOfFiles=(t=this.docSelection)==null?void 0:t.length})},downloadFiles(){return O(this,null,function*(){this.loadingDownload=!0;const t=this.mdOrYaml.toLowerCase(),e={type:t};e.files=JSON.parse(JSON.stringify(this.docSelection)).join(","),w.downloadFiles(e,t).finally(()=>this.loadingDownload=!1)})},updatePrograms(t){return O(this,null,function*(){this.getFilesByCompany();const e=JSON.parse(JSON.stringify(t)).map(o=>o.wid).join(","),l=yield w.updatePrograms(e);this.programsPickerOptions=[{all:i.ZP.t("generated.select_all"),values:JSON.parse(JSON.stringify(l))}]})},updateFiles(){this.numberOfFiles=this.docSelection.length},confirmFileUpload(){return O(this,null,function*(){try{yield w.uploadFiles(this.typeOfFileToUpload,this.filesToEdit,this.commitMsg),this.displayDocumentModification=!1,this.displayModalUploadFiles=!1}catch(t){this.errorUpload=!0,this.errorUploadText=t.responseText}})},submitFile(t){return O(this,null,function*(){var e;this.commitMsg=(e=document.getElementById("commitMsg"))==null?void 0:e.value,this.commitMsg||(this.commitMsg=i.ZP.t("common.no_commit_msg")),this.typeOfFileToUpload=t;const l=new FormData;l.append(this.typeOfFileToUpload,this.filesToUpload,`${this.typeOfFileToUpload}`);try{this.filesToEdit=yield w.fetchFilesToEdit(this.typeOfFileToUpload,l),this.filesToEdit&&(this.filesToEdit=this.filesToEdit.map(o=>Xe(de({},o),{display:!1})),this.displayDocumentModification=!0)}catch(o){this.errorUpload=!0,this.errorUploadText=o.responseText}})},refreshQuestionnaireYaml(){this.questionnaireYamlError=null;try{this.questionnaireYAML=this.questionnaireNunjucks.renderString(this.surveyTemplate,this.data);const t=F.load(this.surveyTemplate.replaceAll(/\{(.*)\}/g,"")).map(l=>l.property),e=Qe(t);if(e)throw new Error("The following key is followed by both a number and a string: "+e)}catch(t){this.questionnaireYamlError=t}},reset(){this.data={}},onsurveyTemplate(){this.refreshQuestionnaireYaml()},getCursorInfoDraftableEffect(){this.position=this.$refs.documentTemplateAceComponent.editor.selection.getCursor().row,this.position_col=this.$refs.documentTemplateAceComponent.editor.selection.getCursor().column,this.line_length=this.$refs.documentTemplateAceComponent.editor.session.getLine(this.position).length},onData(){this.refreshQuestionnaireYaml()},refreshQuestionnaireDefinition(){this.questionnaireDefinitionError=null;try{this.questionnaireDefinition=(0,Z.l)(F.load(this.questionnaireYAML))}catch(t){this.questionnaireYAML&&(this.questionnaireDefinitionError=t)}},onOpenEditors(){localStorage.setItem("qr-editor-open-editors",JSON.stringify(this.openEditors.toJSON())),$(window).resize()},onIsAdminChange(){this.data=de({},this.data),this.data.is_admin=this.isAdmin}},watch:{surveyTemplate:[{handler:"onsurveyTemplate"}],documentTemplate:[{handler:"getCursorInfoDraftableEffect"}],data:[{handler:"onData"}],questionnaireYAML:[{handler:"refreshQuestionnaireDefinition"}],openEditors:[{deep:!0,handler:"onOpenEditors"}],isAdmin:[{immediate:!0,handler:"onIsAdminChange"}]}});var yl=a(8062),ll=(0,I.Z)(el,g,x,!1,null,null,null);const tl=ll.exports;new v.default({i18n:new h.Z(i.ZP),template:"<Editor/>",components:{Editor:tl},data:{}}).$mount("#main-div")},64930:(p,b,a)=>{"use strict";a.d(b,{Z:()=>F});var i=function(){var f=this,m=f._self._c,k=f._self._setupProxy;return m("iframe",{staticStyle:{height:"100%"},attrs:{src:"/admin/document-preview/","data-cy":"document-preview"}})},h=[];i._withStripped=!0;var v=a(2934),g=(u,f,m)=>new Promise((k,T)=>{var Q=D=>{try{V(m.next(D))}catch(U){T(U)}},G=D=>{try{V(m.throw(D))}catch(U){T(U)}},V=D=>D.done?k(D.value):Promise.resolve(D.value).then(Q,G);V((m=m.apply(u,f)).next())});const N=(0,v.defineComponent)({props:{value:{type:String,required:!0},liveModification:{default:!1,type:Boolean},editable:{type:Boolean},autoHeight:{default:!1,type:Boolean},whitespace:{default:"normal",type:null}},data(){return{iframeLoaded:new Promise(()=>null)}},computed:{iframeBody(){return $(this.$el).contents().find("body")}},mounted(){this.iframeLoaded=new Promise((u,f)=>$(this.$el).on("load",()=>u(null))),this.setupIframeOnceLoaded()},methods:{findPosition(u){return u?.offsetParent!=null?u.offsetTop+this.findPosition(u.offsetParent):u.offsetTop},setupIframeOnceLoaded(){return g(this,null,function*(){yield this.iframeLoaded,this.iframeBody.on("paste",u=>{u.preventDefault();var f=u.originalEvent.clipboardData.getData("text/plain");this.insertText(f),this.$emit("input",this.iframeBody.html()),this.$emit("keydown",u)}),this.iframeBody.on("input",u=>{this.$emit("input",this.iframeBody.html()),this.$emit("keydown",u)}),$(this.$el.contentDocument).on("selectionchange",()=>{this.getSelectionText()?this.$emit("select",!0):this.$emit("select",!1)}),this.iframeBody.keydown(u=>{if(u.keyCode===13)return this.insertText(`
`),!1}),$(window).resize(()=>this.resizeIframe()),this.$emit("iframeLoaded",!0),this.valueChanged(this.value)})},insertText(u){const f=this.$el.contentWindow;let m,k;if(f.getSelection&&(m=f.getSelection()).rangeCount){k=m.getRangeAt(0),k.collapse(!0);const T=document.createTextNode(u);k.insertNode(T),k.setStartAfter(T),k.collapse(!0),m.removeAllRanges(),m.addRange(k),this.$emit("input",this.iframeBody.html()),this.$emit("keydown")}},insertHtml(u,f){const m=this.$el.contentWindow.getSelection().getRangeAt(0),k=$(u).html(f);m.insertNode(k[0]),this.$emit("input",this.iframeBody.html()),this.$emit("keydown")},getSelectionText(u=!1){const f=this.$el.contentWindow.getSelection(),m=f.toString();return u&&f.getRangeAt(0).deleteContents(),m},getSelectionHtml(u=!1){const m=this.$el.contentWindow.getSelection().getRangeAt(0),k=m.cloneContents(),T=document.createElement("div");return T.appendChild(k),u&&m.deleteContents(),T.innerHTML},resizeIframe(){this.autoHeight&&$(this.$el).height(this.iframeBody.prop("offsetHeight")+100)},getIframeBodyPromise(){return g(this,null,function*(){return yield this.iframeLoaded,this.iframeBody})},whitespaceChanged(u){return g(this,null,function*(){(yield this.getIframeBodyPromise()).css("white-space",u)})},valueChanged(u){return g(this,null,function*(){this.liveModification&&setTimeout(()=>{const m=this.findPosition($(this.$el).contents().find("span#cursorPositionScroll")[0]);$(this.$el).contents().scrollTop(m)},500);const f=yield this.getIframeBodyPromise();f.parent().find(":focus").length>0||(f.html(u),this.whitespaceChanged(this.whitespace),this.editableChanged(this.editable),this.resizeIframe())})},editableChanged(u){return g(this,null,function*(){const f=yield this.getIframeBodyPromise(),m=f.find("*").add(f);u?m.attr("contenteditable","true"):m.removeAttr("contenteditable"),this.$emit("input",f.html())})}},watch:{whitespace:[{handler:"whitespaceChanged"}],value:[{handler:"valueChanged"}],editable:[{handler:"editableChanged"}]}});var Z=a(35983),j=(0,Z.Z)(N,i,h,!1,null,null,null);const F=j.exports},8280:(p,b,a)=>{var i=a(65463);i.__esModule&&(i=i.default),typeof i=="string"&&(i=[[p.id,i,""]]),i.locals&&(p.exports=i.locals);var h=a(10703).Z,v=h("68e3fa76",i,!1,{})},8062:(p,b,a)=>{var i=a(80902);i.__esModule&&(i=i.default),typeof i=="string"&&(i=[[p.id,i,""]]),i.locals&&(p.exports=i.locals);var h=a(10703).Z,v=h("4639b2c5",i,!1,{})},4621:(p,b,a)=>{var i=a(42467);i.__esModule&&(i=i.default),typeof i=="string"&&(i=[[p.id,i,""]]),i.locals&&(p.exports=i.locals);var h=a(10703).Z,v=h("4eeea2d8",i,!1,{})}},p=>{var b=i=>p(p.s=i);p.O(0,[8600,9486,6833,9755,4532,6486,3320,6895,9669,7265,8481,4731,3799,1762,7183,3908,4300,5479,7450,1954,6432],()=>b(26914));var a=p.O()}]);
